(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))h(p);new MutationObserver(p=>{for(const j of p)if(j.type==="childList")for(const N of j.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&h(N)}).observe(document,{childList:!0,subtree:!0});function u(p){const j={};return p.integrity&&(j.integrity=p.integrity),p.referrerPolicy&&(j.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?j.credentials="include":p.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function h(p){if(p.ep)return;p.ep=!0;const j=u(p);fetch(p.href,j)}})();var Ro={exports:{}},Cr={},Fo={exports:{}},te={};var Zu;function wf(){if(Zu)return te;Zu=1;var a=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),N=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),P=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),C=Symbol.iterator;function E(y){return y===null||typeof y!="object"?null:(y=C&&y[C]||y["@@iterator"],typeof y=="function"?y:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,F={};function G(y,L,ee){this.props=y,this.context=L,this.refs=F,this.updater=ee||I}G.prototype.isReactComponent={},G.prototype.setState=function(y,L){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,L,"setState")},G.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function ue(){}ue.prototype=G.prototype;function ge(y,L,ee){this.props=y,this.context=L,this.refs=F,this.updater=ee||I}var ve=ge.prototype=new ue;ve.constructor=ge,S(ve,G.prototype),ve.isPureReactComponent=!0;var re=Array.isArray,Ne=Object.prototype.hasOwnProperty,U={current:null},g={key:!0,ref:!0,__self:!0,__source:!0};function k(y,L,ee){var ne,oe={},ie=null,pe=null;if(L!=null)for(ne in L.ref!==void 0&&(pe=L.ref),L.key!==void 0&&(ie=""+L.key),L)Ne.call(L,ne)&&!g.hasOwnProperty(ne)&&(oe[ne]=L[ne]);var ce=arguments.length-2;if(ce===1)oe.children=ee;else if(1<ce){for(var we=Array(ce),qe=0;qe<ce;qe++)we[qe]=arguments[qe+2];oe.children=we}if(y&&y.defaultProps)for(ne in ce=y.defaultProps,ce)oe[ne]===void 0&&(oe[ne]=ce[ne]);return{$$typeof:a,type:y,key:ie,ref:pe,props:oe,_owner:U.current}}function X(y,L){return{$$typeof:a,type:y.type,key:L,ref:y.ref,props:y.props,_owner:y._owner}}function z(y){return typeof y=="object"&&y!==null&&y.$$typeof===a}function fe(y){var L={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(ee){return L[ee]})}var me=/\/+/g;function Ue(y,L){return typeof y=="object"&&y!==null&&y.key!=null?fe(""+y.key):L.toString(36)}function ut(y,L,ee,ne,oe){var ie=typeof y;(ie==="undefined"||ie==="boolean")&&(y=null);var pe=!1;if(y===null)pe=!0;else switch(ie){case"string":case"number":pe=!0;break;case"object":switch(y.$$typeof){case a:case c:pe=!0}}if(pe)return pe=y,oe=oe(pe),y=ne===""?"."+Ue(pe,0):ne,re(oe)?(ee="",y!=null&&(ee=y.replace(me,"$&/")+"/"),ut(oe,L,ee,"",function(qe){return qe})):oe!=null&&(z(oe)&&(oe=X(oe,ee+(!oe.key||pe&&pe.key===oe.key?"":(""+oe.key).replace(me,"$&/")+"/")+y)),L.push(oe)),1;if(pe=0,ne=ne===""?".":ne+":",re(y))for(var ce=0;ce<y.length;ce++){ie=y[ce];var we=ne+Ue(ie,ce);pe+=ut(ie,L,ee,we,oe)}else if(we=E(y),typeof we=="function")for(y=we.call(y),ce=0;!(ie=y.next()).done;)ie=ie.value,we=ne+Ue(ie,ce++),pe+=ut(ie,L,ee,we,oe);else if(ie==="object")throw L=String(y),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return pe}function yt(y,L,ee){if(y==null)return y;var ne=[],oe=0;return ut(y,ne,"","",function(ie){return L.call(ee,ie,oe++)}),ne}function Ve(y){if(y._status===-1){var L=y._result;L=L(),L.then(function(ee){(y._status===0||y._status===-1)&&(y._status=1,y._result=ee)},function(ee){(y._status===0||y._status===-1)&&(y._status=2,y._result=ee)}),y._status===-1&&(y._status=0,y._result=L)}if(y._status===1)return y._result.default;throw y._result}var Ce={current:null},O={transition:null},J={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:O,ReactCurrentOwner:U};function H(){throw Error("act(...) is not supported in production builds of React.")}return te.Children={map:yt,forEach:function(y,L,ee){yt(y,function(){L.apply(this,arguments)},ee)},count:function(y){var L=0;return yt(y,function(){L++}),L},toArray:function(y){return yt(y,function(L){return L})||[]},only:function(y){if(!z(y))throw Error("React.Children.only expected to receive a single React element child.");return y}},te.Component=G,te.Fragment=u,te.Profiler=p,te.PureComponent=ge,te.StrictMode=h,te.Suspense=b,te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,te.act=H,te.cloneElement=function(y,L,ee){if(y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+y+".");var ne=S({},y.props),oe=y.key,ie=y.ref,pe=y._owner;if(L!=null){if(L.ref!==void 0&&(ie=L.ref,pe=U.current),L.key!==void 0&&(oe=""+L.key),y.type&&y.type.defaultProps)var ce=y.type.defaultProps;for(we in L)Ne.call(L,we)&&!g.hasOwnProperty(we)&&(ne[we]=L[we]===void 0&&ce!==void 0?ce[we]:L[we])}var we=arguments.length-2;if(we===1)ne.children=ee;else if(1<we){ce=Array(we);for(var qe=0;qe<we;qe++)ce[qe]=arguments[qe+2];ne.children=ce}return{$$typeof:a,type:y.type,key:oe,ref:ie,props:ne,_owner:pe}},te.createContext=function(y){return y={$$typeof:N,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},y.Provider={$$typeof:j,_context:y},y.Consumer=y},te.createElement=k,te.createFactory=function(y){var L=k.bind(null,y);return L.type=y,L},te.createRef=function(){return{current:null}},te.forwardRef=function(y){return{$$typeof:B,render:y}},te.isValidElement=z,te.lazy=function(y){return{$$typeof:_,_payload:{_status:-1,_result:y},_init:Ve}},te.memo=function(y,L){return{$$typeof:P,type:y,compare:L===void 0?null:L}},te.startTransition=function(y){var L=O.transition;O.transition={};try{y()}finally{O.transition=L}},te.unstable_act=H,te.useCallback=function(y,L){return Ce.current.useCallback(y,L)},te.useContext=function(y){return Ce.current.useContext(y)},te.useDebugValue=function(){},te.useDeferredValue=function(y){return Ce.current.useDeferredValue(y)},te.useEffect=function(y,L){return Ce.current.useEffect(y,L)},te.useId=function(){return Ce.current.useId()},te.useImperativeHandle=function(y,L,ee){return Ce.current.useImperativeHandle(y,L,ee)},te.useInsertionEffect=function(y,L){return Ce.current.useInsertionEffect(y,L)},te.useLayoutEffect=function(y,L){return Ce.current.useLayoutEffect(y,L)},te.useMemo=function(y,L){return Ce.current.useMemo(y,L)},te.useReducer=function(y,L,ee){return Ce.current.useReducer(y,L,ee)},te.useRef=function(y){return Ce.current.useRef(y)},te.useState=function(y){return Ce.current.useState(y)},te.useSyncExternalStore=function(y,L,ee){return Ce.current.useSyncExternalStore(y,L,ee)},te.useTransition=function(){return Ce.current.useTransition()},te.version="18.3.1",te}var Ju;function ti(){return Ju||(Ju=1,Fo.exports=wf()),Fo.exports}var qu;function jf(){if(qu)return Cr;qu=1;var a=ti(),c=Symbol.for("react.element"),u=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,p=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j={key:!0,ref:!0,__self:!0,__source:!0};function N(B,b,P){var _,C={},E=null,I=null;P!==void 0&&(E=""+P),b.key!==void 0&&(E=""+b.key),b.ref!==void 0&&(I=b.ref);for(_ in b)h.call(b,_)&&!j.hasOwnProperty(_)&&(C[_]=b[_]);if(B&&B.defaultProps)for(_ in b=B.defaultProps,b)C[_]===void 0&&(C[_]=b[_]);return{$$typeof:c,type:B,key:E,ref:I,props:C,_owner:p.current}}return Cr.Fragment=u,Cr.jsx=N,Cr.jsxs=N,Cr}var Xu;function Nf(){return Xu||(Xu=1,Ro.exports=jf()),Ro.exports}var s=Nf(),Q=ti(),zs={},$o={exports:{}},Je={},Uo={exports:{}},Ho={};var ec;function kf(){return ec||(ec=1,(function(a){function c(O,J){var H=O.length;O.push(J);e:for(;0<H;){var y=H-1>>>1,L=O[y];if(0<p(L,J))O[y]=J,O[H]=L,H=y;else break e}}function u(O){return O.length===0?null:O[0]}function h(O){if(O.length===0)return null;var J=O[0],H=O.pop();if(H!==J){O[0]=H;e:for(var y=0,L=O.length,ee=L>>>1;y<ee;){var ne=2*(y+1)-1,oe=O[ne],ie=ne+1,pe=O[ie];if(0>p(oe,H))ie<L&&0>p(pe,oe)?(O[y]=pe,O[ie]=H,y=ie):(O[y]=oe,O[ne]=H,y=ne);else if(ie<L&&0>p(pe,H))O[y]=pe,O[ie]=H,y=ie;else break e}}return J}function p(O,J){var H=O.sortIndex-J.sortIndex;return H!==0?H:O.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var j=performance;a.unstable_now=function(){return j.now()}}else{var N=Date,B=N.now();a.unstable_now=function(){return N.now()-B}}var b=[],P=[],_=1,C=null,E=3,I=!1,S=!1,F=!1,G=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(O){for(var J=u(P);J!==null;){if(J.callback===null)h(P);else if(J.startTime<=O)h(P),J.sortIndex=J.expirationTime,c(b,J);else break;J=u(P)}}function re(O){if(F=!1,ve(O),!S)if(u(b)!==null)S=!0,Ve(Ne);else{var J=u(P);J!==null&&Ce(re,J.startTime-O)}}function Ne(O,J){S=!1,F&&(F=!1,ue(k),k=-1),I=!0;var H=E;try{for(ve(J),C=u(b);C!==null&&(!(C.expirationTime>J)||O&&!fe());){var y=C.callback;if(typeof y=="function"){C.callback=null,E=C.priorityLevel;var L=y(C.expirationTime<=J);J=a.unstable_now(),typeof L=="function"?C.callback=L:C===u(b)&&h(b),ve(J)}else h(b);C=u(b)}if(C!==null)var ee=!0;else{var ne=u(P);ne!==null&&Ce(re,ne.startTime-J),ee=!1}return ee}finally{C=null,E=H,I=!1}}var U=!1,g=null,k=-1,X=5,z=-1;function fe(){return!(a.unstable_now()-z<X)}function me(){if(g!==null){var O=a.unstable_now();z=O;var J=!0;try{J=g(!0,O)}finally{J?Ue():(U=!1,g=null)}}else U=!1}var Ue;if(typeof ge=="function")Ue=function(){ge(me)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,yt=ut.port2;ut.port1.onmessage=me,Ue=function(){yt.postMessage(null)}}else Ue=function(){G(me,0)};function Ve(O){g=O,U||(U=!0,Ue())}function Ce(O,J){k=G(function(){O(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_continueExecution=function(){S||I||(S=!0,Ve(Ne))},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_getFirstCallbackNode=function(){return u(b)},a.unstable_next=function(O){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var H=E;E=J;try{return O()}finally{E=H}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(O,J){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=E;E=O;try{return J()}finally{E=H}},a.unstable_scheduleCallback=function(O,J,H){var y=a.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?y+H:y):H=y,O){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,O={id:_++,callback:J,priorityLevel:O,startTime:H,expirationTime:L,sortIndex:-1},H>y?(O.sortIndex=H,c(P,O),u(b)===null&&O===u(P)&&(F?(ue(k),k=-1):F=!0,Ce(re,H-y))):(O.sortIndex=L,c(b,O),S||I||(S=!0,Ve(Ne))),O},a.unstable_shouldYield=fe,a.unstable_wrapCallback=function(O){var J=E;return function(){var H=E;E=J;try{return O.apply(this,arguments)}finally{E=H}}}})(Ho)),Ho}var tc;function Sf(){return tc||(tc=1,Uo.exports=kf()),Uo.exports}var nc;function Cf(){if(nc)return Je;nc=1;var a=ti(),c=Sf();function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=new Set,p={};function j(e,t){N(e,t),N(e+"Capture",t)}function N(e,t){for(p[e]=t,e=0;e<t.length;e++)h.add(t[e])}var B=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},C={};function E(e){return b.call(C,e)?!0:b.call(_,e)?!1:P.test(e)?C[e]=!0:(_[e]=!0,!1)}function I(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,t,n,r){if(t===null||typeof t>"u"||I(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function F(e,t,n,r,l,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){G[e]=new F(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];G[t]=new F(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){G[e]=new F(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){G[e]=new F(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){G[e]=new F(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){G[e]=new F(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){G[e]=new F(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){G[e]=new F(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){G[e]=new F(e,5,!1,e.toLowerCase(),null,!1,!1)});var ue=/[\-:]([a-z])/g;function ge(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ue,ge);G[t]=new F(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ue,ge);G[t]=new F(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ue,ge);G[t]=new F(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){G[e]=new F(e,1,!1,e.toLowerCase(),null,!1,!1)}),G.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){G[e]=new F(e,1,!1,e.toLowerCase(),null,!0,!0)});function ve(e,t,n,r){var l=G.hasOwnProperty(t)?G[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S(t,n,l,r)&&(n=null),r||l===null?E(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var re=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ne=Symbol.for("react.element"),U=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),fe=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),O=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,y;function L(e){if(y===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);y=t&&t[1]||""}return`
`+y+e}var ee=!1;function ne(e,t){if(!e||ee)return"";ee=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var r=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){r=w}e.call(t.prototype)}else{try{throw Error()}catch(w){r=w}e()}}catch(w){if(w&&r&&typeof w.stack=="string"){for(var l=w.stack.split(`
`),o=r.stack.split(`
`),i=l.length-1,d=o.length-1;1<=i&&0<=d&&l[i]!==o[d];)d--;for(;1<=i&&0<=d;i--,d--)if(l[i]!==o[d]){if(i!==1||d!==1)do if(i--,d--,0>d||l[i]!==o[d]){var f=`
`+l[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=d);break}}}finally{ee=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function oe(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case U:return"Portal";case X:return"Profiler";case k:return"StrictMode";case Ue:return"Suspense";case ut:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fe:return(e.displayName||"Context")+".Consumer";case z:return(e._context.displayName||"Context")+".Provider";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yt:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case Ve:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}function pe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qe(e){var t=we(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Er(e){e._valueTracker||(e._valueTracker=qe(e))}function ni(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=we(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Mr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vs(e,t){var n=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ri(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ce(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function si(e,t){t=t.checked,t!=null&&ve(e,"checked",t,!1)}function Ks(e,t){si(e,t);var n=ce(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gs(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gs(e,t.type,ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function li(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gs(e,t,n){(t!=="number"||Mr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fn=Array.isArray;function mn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ce(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Qs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(u(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(u(92));if(Fn(n)){if(1<n.length)throw Error(u(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ce(n)}}function ii(e,t){var n=ce(t.value),r=ce(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ai(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ui(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ys(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ui(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pr,ci=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $n(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kc=["Webkit","ms","Moz","O"];Object.keys(Un).forEach(function(e){kc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Un[t]=Un[e]})});function di(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Un.hasOwnProperty(e)&&Un[e]?(""+t).trim():t+"px"}function fi(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=di(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Sc=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zs(e,t){if(t){if(Sc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(u(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(u(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(t.style!=null&&typeof t.style!="object")throw Error(u(62))}}function Js(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var el=null,pn=null,hn=null;function mi(e){if(e=cr(e)){if(typeof el!="function")throw Error(u(280));var t=e.stateNode;t&&(t=Xr(t),el(e.stateNode,e.type,t))}}function pi(e){pn?hn?hn.push(e):hn=[e]:pn=e}function hi(){if(pn){var e=pn,t=hn;if(hn=pn=null,mi(e),t)for(e=0;e<t.length;e++)mi(t[e])}}function gi(e,t){return e(t)}function yi(){}var tl=!1;function xi(e,t,n){if(tl)return e(t,n);tl=!0;try{return gi(e,t,n)}finally{tl=!1,(pn!==null||hn!==null)&&(yi(),hi())}}function Hn(e,t){var n=e.stateNode;if(n===null)return null;var r=Xr(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var nl=!1;if(B)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{nl=!1}function Cc(e,t,n,r,l,o,i,d,f){var w=Array.prototype.slice.call(arguments,3);try{t.apply(n,w)}catch(A){this.onError(A)}}var Vn=!1,Lr=null,Ar=!1,rl=null,bc={onError:function(e){Vn=!0,Lr=e}};function Ic(e,t,n,r,l,o,i,d,f){Vn=!1,Lr=null,Cc.apply(bc,arguments)}function Ec(e,t,n,r,l,o,i,d,f){if(Ic.apply(this,arguments),Vn){if(Vn){var w=Lr;Vn=!1,Lr=null}else throw Error(u(198));Ar||(Ar=!0,rl=w)}}function Jt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wi(e){if(Jt(e)!==e)throw Error(u(188))}function Mc(e){var t=e.alternate;if(!t){if(t=Jt(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return wi(l),e;if(o===r)return wi(l),t;o=o.sibling}throw Error(u(188))}if(n.return!==r.return)n=l,r=o;else{for(var i=!1,d=l.child;d;){if(d===n){i=!0,n=l,r=o;break}if(d===r){i=!0,r=l,n=o;break}d=d.sibling}if(!i){for(d=o.child;d;){if(d===n){i=!0,n=o,r=l;break}if(d===r){i=!0,r=o,n=l;break}d=d.sibling}if(!i)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function ji(e){return e=Mc(e),e!==null?Ni(e):null}function Ni(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ni(e);if(t!==null)return t;e=e.sibling}return null}var ki=c.unstable_scheduleCallback,Si=c.unstable_cancelCallback,Pc=c.unstable_shouldYield,Lc=c.unstable_requestPaint,Ee=c.unstable_now,Ac=c.unstable_getCurrentPriorityLevel,sl=c.unstable_ImmediatePriority,Ci=c.unstable_UserBlockingPriority,Tr=c.unstable_NormalPriority,Tc=c.unstable_LowPriority,bi=c.unstable_IdlePriority,_r=null,xt=null;function _c(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(_r,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:Oc,Dc=Math.log,Bc=Math.LN2;function Oc(e){return e>>>=0,e===0?32:31-(Dc(e)/Bc|0)|0}var Dr=64,Br=4194304;function Kn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Or(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var d=i&~l;d!==0?r=Kn(d):(o&=i,o!==0&&(r=Kn(o)))}else i=n&~l,i!==0?r=Kn(i):o!==0&&(r=Kn(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ct(t),l=1<<n,r|=e[n],t&=~l;return r}function zc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ct(o),d=1<<i,f=l[i];f===-1?((d&n)===0||(d&r)!==0)&&(l[i]=zc(d,t)):f<=t&&(e.expiredLanes|=d),o&=~d}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ii(){var e=Dr;return Dr<<=1,(Dr&4194240)===0&&(Dr=64),e}function ol(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=n}function Fc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-ct(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function il(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ct(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var de=0;function Ei(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Mi,al,Pi,Li,Ai,ul=!1,zr=[],At=null,Tt=null,_t=null,Qn=new Map,Yn=new Map,Dt=[],$c="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ti(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(t.pointerId)}}function Zn(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=cr(t),t!==null&&al(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Uc(e,t,n,r,l){switch(t){case"focusin":return At=Zn(At,e,t,n,r,l),!0;case"dragenter":return Tt=Zn(Tt,e,t,n,r,l),!0;case"mouseover":return _t=Zn(_t,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return Qn.set(o,Zn(Qn.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,Yn.set(o,Zn(Yn.get(o)||null,e,t,n,r,l)),!0}return!1}function _i(e){var t=qt(e.target);if(t!==null){var n=Jt(t);if(n!==null){if(t=n.tag,t===13){if(t=vi(n),t!==null){e.blockedOn=t,Ai(e.priority,function(){Pi(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qs=r,n.target.dispatchEvent(r),qs=null}else return t=cr(n),t!==null&&al(t),e.blockedOn=n,!1;t.shift()}return!0}function Di(e,t,n){Rr(e)&&n.delete(t)}function Hc(){ul=!1,At!==null&&Rr(At)&&(At=null),Tt!==null&&Rr(Tt)&&(Tt=null),_t!==null&&Rr(_t)&&(_t=null),Qn.forEach(Di),Yn.forEach(Di)}function Jn(e,t){e.blockedOn===t&&(e.blockedOn=null,ul||(ul=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Hc)))}function qn(e){function t(l){return Jn(l,e)}if(0<zr.length){Jn(zr[0],e);for(var n=1;n<zr.length;n++){var r=zr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(At!==null&&Jn(At,e),Tt!==null&&Jn(Tt,e),_t!==null&&Jn(_t,e),Qn.forEach(t),Yn.forEach(t),n=0;n<Dt.length;n++)r=Dt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&(n=Dt[0],n.blockedOn===null);)_i(n),n.blockedOn===null&&Dt.shift()}var gn=re.ReactCurrentBatchConfig,Fr=!0;function Wc(e,t,n,r){var l=de,o=gn.transition;gn.transition=null;try{de=1,cl(e,t,n,r)}finally{de=l,gn.transition=o}}function Vc(e,t,n,r){var l=de,o=gn.transition;gn.transition=null;try{de=4,cl(e,t,n,r)}finally{de=l,gn.transition=o}}function cl(e,t,n,r){if(Fr){var l=dl(e,t,n,r);if(l===null)El(e,t,r,$r,n),Ti(e,r);else if(Uc(l,e,t,n,r))r.stopPropagation();else if(Ti(e,r),t&4&&-1<$c.indexOf(e)){for(;l!==null;){var o=cr(l);if(o!==null&&Mi(o),o=dl(e,t,n,r),o===null&&El(e,t,r,$r,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else El(e,t,r,null,n)}}var $r=null;function dl(e,t,n,r){if($r=null,e=Xs(r),e=qt(e),e!==null)if(t=Jt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vi(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $r=e,null}function Bi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ac()){case sl:return 1;case Ci:return 4;case Tr:case Tc:return 16;case bi:return 536870912;default:return 16}default:return 16}}var Bt=null,fl=null,Ur=null;function Oi(){if(Ur)return Ur;var e,t=fl,n=t.length,r,l="value"in Bt?Bt.value:Bt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[o-r];r++);return Ur=l.slice(e,1<r?1-r:void 0)}function Hr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wr(){return!0}function zi(){return!1}function Xe(e){function t(n,r,l,o,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wr:zi,this.isPropagationStopped=zi,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=Xe(yn),Xn=H({},yn,{view:0,detail:0}),Kc=Xe(Xn),pl,hl,er,Vr=H({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&e.type==="mousemove"?(pl=e.screenX-er.screenX,hl=e.screenY-er.screenY):hl=pl=0,er=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:hl}}),Ri=Xe(Vr),Gc=H({},Vr,{dataTransfer:0}),Qc=Xe(Gc),Yc=H({},Xn,{relatedTarget:0}),gl=Xe(Yc),Zc=H({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Jc=Xe(Zc),qc=H({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xc=Xe(qc),ed=H({},yn,{data:0}),Fi=Xe(ed),td={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rd[e])?!!t[e]:!1}function yl(){return sd}var ld=H({},Xn,{key:function(e){if(e.key){var t=td[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?Hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),od=Xe(ld),id=H({},Vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Xe(id),ad=H({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),ud=Xe(ad),cd=H({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dd=Xe(cd),fd=H({},Vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),md=Xe(fd),pd=[9,13,27,32],xl=B&&"CompositionEvent"in window,tr=null;B&&"documentMode"in document&&(tr=document.documentMode);var hd=B&&"TextEvent"in window&&!tr,Ui=B&&(!xl||tr&&8<tr&&11>=tr),Hi=" ",Wi=!1;function Vi(e,t){switch(e){case"keyup":return pd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ki(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xn=!1;function gd(e,t){switch(e){case"compositionend":return Ki(t);case"keypress":return t.which!==32?null:(Wi=!0,Hi);case"textInput":return e=t.data,e===Hi&&Wi?null:e;default:return null}}function yd(e,t){if(xn)return e==="compositionend"||!xl&&Vi(e,t)?(e=Oi(),Ur=fl=Bt=null,xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ui&&t.locale!=="ko"?null:t.data;default:return null}}var xd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xd[e.type]:t==="textarea"}function Qi(e,t,n,r){pi(r),t=Zr(t,"onChange"),0<t.length&&(n=new ml("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nr=null,rr=null;function vd(e){fa(e,0)}function Kr(e){var t=kn(e);if(ni(t))return e}function wd(e,t){if(e==="change")return t}var Yi=!1;if(B){var vl;if(B){var wl="oninput"in document;if(!wl){var Zi=document.createElement("div");Zi.setAttribute("oninput","return;"),wl=typeof Zi.oninput=="function"}vl=wl}else vl=!1;Yi=vl&&(!document.documentMode||9<document.documentMode)}function Ji(){nr&&(nr.detachEvent("onpropertychange",qi),rr=nr=null)}function qi(e){if(e.propertyName==="value"&&Kr(rr)){var t=[];Qi(t,rr,e,Xs(e)),xi(vd,t)}}function jd(e,t,n){e==="focusin"?(Ji(),nr=t,rr=n,nr.attachEvent("onpropertychange",qi)):e==="focusout"&&Ji()}function Nd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kr(rr)}function kd(e,t){if(e==="click")return Kr(t)}function Sd(e,t){if(e==="input"||e==="change")return Kr(t)}function Cd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:Cd;function sr(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!b.call(t,l)||!dt(e[l],t[l]))return!1}return!0}function Xi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ea(e,t){var n=Xi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xi(n)}}function ta(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ta(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function na(){for(var e=window,t=Mr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mr(e.document)}return t}function jl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bd(e){var t=na(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ta(n.ownerDocument.documentElement,n)){if(r!==null&&jl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=ea(n,o);var i=ea(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Id=B&&"documentMode"in document&&11>=document.documentMode,vn=null,Nl=null,lr=null,kl=!1;function ra(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kl||vn==null||vn!==Mr(r)||(r=vn,"selectionStart"in r&&jl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lr&&sr(lr,r)||(lr=r,r=Zr(Nl,"onSelect"),0<r.length&&(t=new ml("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vn)))}function Gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wn={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionend:Gr("Transition","TransitionEnd")},Sl={},sa={};B&&(sa=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function Qr(e){if(Sl[e])return Sl[e];if(!wn[e])return e;var t=wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sa)return Sl[e]=t[n];return e}var la=Qr("animationend"),oa=Qr("animationiteration"),ia=Qr("animationstart"),aa=Qr("transitionend"),ua=new Map,ca="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ot(e,t){ua.set(e,t),j(t,[e])}for(var Cl=0;Cl<ca.length;Cl++){var bl=ca[Cl],Ed=bl.toLowerCase(),Md=bl[0].toUpperCase()+bl.slice(1);Ot(Ed,"on"+Md)}Ot(la,"onAnimationEnd"),Ot(oa,"onAnimationIteration"),Ot(ia,"onAnimationStart"),Ot("dblclick","onDoubleClick"),Ot("focusin","onFocus"),Ot("focusout","onBlur"),Ot(aa,"onTransitionEnd"),N("onMouseEnter",["mouseout","mouseover"]),N("onMouseLeave",["mouseout","mouseover"]),N("onPointerEnter",["pointerout","pointerover"]),N("onPointerLeave",["pointerout","pointerover"]),j("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),j("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),j("onBeforeInput",["compositionend","keypress","textInput","paste"]),j("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pd=new Set("cancel close invalid load scroll toggle".split(" ").concat(or));function da(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ec(r,t,void 0,e),e.currentTarget=null}function fa(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var d=r[i],f=d.instance,w=d.currentTarget;if(d=d.listener,f!==o&&l.isPropagationStopped())break e;da(l,d,w),o=f}else for(i=0;i<r.length;i++){if(d=r[i],f=d.instance,w=d.currentTarget,d=d.listener,f!==o&&l.isPropagationStopped())break e;da(l,d,w),o=f}}}if(Ar)throw e=rl,Ar=!1,rl=null,e}function ye(e,t){var n=t[_l];n===void 0&&(n=t[_l]=new Set);var r=e+"__bubble";n.has(r)||(ma(t,e,2,!1),n.add(r))}function Il(e,t,n){var r=0;t&&(r|=4),ma(n,e,r,t)}var Yr="_reactListening"+Math.random().toString(36).slice(2);function ir(e){if(!e[Yr]){e[Yr]=!0,h.forEach(function(n){n!=="selectionchange"&&(Pd.has(n)||Il(n,!1,e),Il(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yr]||(t[Yr]=!0,Il("selectionchange",!1,t))}}function ma(e,t,n,r){switch(Bi(t)){case 1:var l=Wc;break;case 4:l=Vc;break;default:l=cl}n=l.bind(null,t,n,e),l=void 0,!nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function El(e,t,n,r,l){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var d=r.stateNode.containerInfo;if(d===l||d.nodeType===8&&d.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var f=i.tag;if((f===3||f===4)&&(f=i.stateNode.containerInfo,f===l||f.nodeType===8&&f.parentNode===l))return;i=i.return}for(;d!==null;){if(i=qt(d),i===null)return;if(f=i.tag,f===5||f===6){r=o=i;continue e}d=d.parentNode}}r=r.return}xi(function(){var w=o,A=Xs(n),T=[];e:{var M=ua.get(e);if(M!==void 0){var R=ml,W=e;switch(e){case"keypress":if(Hr(n)===0)break e;case"keydown":case"keyup":R=od;break;case"focusin":W="focus",R=gl;break;case"focusout":W="blur",R=gl;break;case"beforeblur":case"afterblur":R=gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Ri;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=ud;break;case la:case oa:case ia:R=Jc;break;case aa:R=dd;break;case"scroll":R=Kc;break;case"wheel":R=md;break;case"copy":case"cut":case"paste":R=Xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=$i}var V=(t&4)!==0,Me=!V&&e==="scroll",x=V?M!==null?M+"Capture":null:M;V=[];for(var m=w,v;m!==null;){v=m;var D=v.stateNode;if(v.tag===5&&D!==null&&(v=D,x!==null&&(D=Hn(m,x),D!=null&&V.push(ar(m,D,v)))),Me)break;m=m.return}0<V.length&&(M=new R(M,W,null,n,A),T.push({event:M,listeners:V}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",M&&n!==qs&&(W=n.relatedTarget||n.fromElement)&&(qt(W)||W[St]))break e;if((R||M)&&(M=A.window===A?A:(M=A.ownerDocument)?M.defaultView||M.parentWindow:window,R?(W=n.relatedTarget||n.toElement,R=w,W=W?qt(W):null,W!==null&&(Me=Jt(W),W!==Me||W.tag!==5&&W.tag!==6)&&(W=null)):(R=null,W=w),R!==W)){if(V=Ri,D="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(V=$i,D="onPointerLeave",x="onPointerEnter",m="pointer"),Me=R==null?M:kn(R),v=W==null?M:kn(W),M=new V(D,m+"leave",R,n,A),M.target=Me,M.relatedTarget=v,D=null,qt(A)===w&&(V=new V(x,m+"enter",W,n,A),V.target=v,V.relatedTarget=Me,D=V),Me=D,R&&W)t:{for(V=R,x=W,m=0,v=V;v;v=jn(v))m++;for(v=0,D=x;D;D=jn(D))v++;for(;0<m-v;)V=jn(V),m--;for(;0<v-m;)x=jn(x),v--;for(;m--;){if(V===x||x!==null&&V===x.alternate)break t;V=jn(V),x=jn(x)}V=null}else V=null;R!==null&&pa(T,M,R,V,!1),W!==null&&Me!==null&&pa(T,Me,W,V,!0)}}e:{if(M=w?kn(w):window,R=M.nodeName&&M.nodeName.toLowerCase(),R==="select"||R==="input"&&M.type==="file")var K=wd;else if(Gi(M))if(Yi)K=Sd;else{K=Nd;var Y=jd}else(R=M.nodeName)&&R.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(K=kd);if(K&&(K=K(e,w))){Qi(T,K,n,A);break e}Y&&Y(e,M,w),e==="focusout"&&(Y=M._wrapperState)&&Y.controlled&&M.type==="number"&&Gs(M,"number",M.value)}switch(Y=w?kn(w):window,e){case"focusin":(Gi(Y)||Y.contentEditable==="true")&&(vn=Y,Nl=w,lr=null);break;case"focusout":lr=Nl=vn=null;break;case"mousedown":kl=!0;break;case"contextmenu":case"mouseup":case"dragend":kl=!1,ra(T,n,A);break;case"selectionchange":if(Id)break;case"keydown":case"keyup":ra(T,n,A)}var Z;if(xl)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else xn?Vi(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(Ui&&n.locale!=="ko"&&(xn||q!=="onCompositionStart"?q==="onCompositionEnd"&&xn&&(Z=Oi()):(Bt=A,fl="value"in Bt?Bt.value:Bt.textContent,xn=!0)),Y=Zr(w,q),0<Y.length&&(q=new Fi(q,e,null,n,A),T.push({event:q,listeners:Y}),Z?q.data=Z:(Z=Ki(n),Z!==null&&(q.data=Z)))),(Z=hd?gd(e,n):yd(e,n))&&(w=Zr(w,"onBeforeInput"),0<w.length&&(A=new Fi("onBeforeInput","beforeinput",null,n,A),T.push({event:A,listeners:w}),A.data=Z))}fa(T,t)})}function ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zr(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Hn(e,n),o!=null&&r.unshift(ar(e,o,l)),o=Hn(e,t),o!=null&&r.push(ar(e,o,l))),e=e.return}return r}function jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pa(e,t,n,r,l){for(var o=t._reactName,i=[];n!==null&&n!==r;){var d=n,f=d.alternate,w=d.stateNode;if(f!==null&&f===r)break;d.tag===5&&w!==null&&(d=w,l?(f=Hn(n,o),f!=null&&i.unshift(ar(n,f,d))):l||(f=Hn(n,o),f!=null&&i.push(ar(n,f,d)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Ld=/\r\n?/g,Ad=/\u0000|\uFFFD/g;function ha(e){return(typeof e=="string"?e:""+e).replace(Ld,`
`).replace(Ad,"")}function Jr(e,t,n){if(t=ha(t),ha(e)!==t&&n)throw Error(u(425))}function qr(){}var Ml=null,Pl=null;function Ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Al=typeof setTimeout=="function"?setTimeout:void 0,Td=typeof clearTimeout=="function"?clearTimeout:void 0,ga=typeof Promise=="function"?Promise:void 0,_d=typeof queueMicrotask=="function"?queueMicrotask:typeof ga<"u"?function(e){return ga.resolve(null).then(e).catch(Dd)}:Al;function Dd(e){setTimeout(function(){throw e})}function Tl(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),qn(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);qn(t)}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ya(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Nn,ur="__reactProps$"+Nn,St="__reactContainer$"+Nn,_l="__reactEvents$"+Nn,Bd="__reactListeners$"+Nn,Od="__reactHandles$"+Nn;function qt(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[St]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ya(e);e!==null;){if(n=e[vt])return n;e=ya(e)}return t}e=n,n=e.parentNode}return null}function cr(e){return e=e[vt]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(u(33))}function Xr(e){return e[ur]||null}var Dl=[],Sn=-1;function Rt(e){return{current:e}}function xe(e){0>Sn||(e.current=Dl[Sn],Dl[Sn]=null,Sn--)}function he(e,t){Sn++,Dl[Sn]=e.current,e.current=t}var Ft={},ze=Rt(Ft),Ke=Rt(!1),Xt=Ft;function Cn(e,t){var n=e.type.contextTypes;if(!n)return Ft;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ge(e){return e=e.childContextTypes,e!=null}function es(){xe(Ke),xe(ze)}function xa(e,t,n){if(ze.current!==Ft)throw Error(u(168));he(ze,t),he(Ke,n)}function va(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(u(108,pe(e)||"Unknown",l));return H({},n,r)}function ts(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ft,Xt=ze.current,he(ze,e),he(Ke,Ke.current),!0}function wa(e,t,n){var r=e.stateNode;if(!r)throw Error(u(169));n?(e=va(e,t,Xt),r.__reactInternalMemoizedMergedChildContext=e,xe(Ke),xe(ze),he(ze,e)):xe(Ke),he(Ke,n)}var Ct=null,ns=!1,Bl=!1;function ja(e){Ct===null?Ct=[e]:Ct.push(e)}function zd(e){ns=!0,ja(e)}function $t(){if(!Bl&&Ct!==null){Bl=!0;var e=0,t=de;try{var n=Ct;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ct=null,ns=!1}catch(l){throw Ct!==null&&(Ct=Ct.slice(e+1)),ki(sl,$t),l}finally{de=t,Bl=!1}}return null}var bn=[],In=0,rs=null,ss=0,rt=[],st=0,en=null,bt=1,It="";function tn(e,t){bn[In++]=ss,bn[In++]=rs,rs=e,ss=t}function Na(e,t,n){rt[st++]=bt,rt[st++]=It,rt[st++]=en,en=e;var r=bt;e=It;var l=32-ct(r)-1;r&=~(1<<l),n+=1;var o=32-ct(t)+l;if(30<o){var i=l-l%5;o=(r&(1<<i)-1).toString(32),r>>=i,l-=i,bt=1<<32-ct(t)+l|n<<l|r,It=o+e}else bt=1<<o|n<<l|r,It=e}function Ol(e){e.return!==null&&(tn(e,1),Na(e,1,0))}function zl(e){for(;e===rs;)rs=bn[--In],bn[In]=null,ss=bn[--In],bn[In]=null;for(;e===en;)en=rt[--st],rt[st]=null,It=rt[--st],rt[st]=null,bt=rt[--st],rt[st]=null}var et=null,tt=null,je=!1,ft=null;function ka(e,t){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,tt=zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=en!==null?{id:bt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,tt=null,!0):!1;default:return!1}}function Rl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fl(e){if(je){var t=tt;if(t){var n=t;if(!Sa(e,t)){if(Rl(e))throw Error(u(418));t=zt(n.nextSibling);var r=et;t&&Sa(e,t)?ka(r,n):(e.flags=e.flags&-4097|2,je=!1,et=e)}}else{if(Rl(e))throw Error(u(418));e.flags=e.flags&-4097|2,je=!1,et=e}}}function Ca(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function ls(e){if(e!==et)return!1;if(!je)return Ca(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ll(e.type,e.memoizedProps)),t&&(t=tt)){if(Rl(e))throw ba(),Error(u(418));for(;t;)ka(e,t),t=zt(t.nextSibling)}if(Ca(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tt=zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=et?zt(e.stateNode.nextSibling):null;return!0}function ba(){for(var e=tt;e;)e=zt(e.nextSibling)}function En(){tt=et=null,je=!1}function $l(e){ft===null?ft=[e]:ft.push(e)}var Rd=re.ReactCurrentBatchConfig;function dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var d=l.refs;i===null?delete d[o]:d[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function os(e,t){throw e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ia(e){var t=e._init;return t(e._payload)}function Ea(e){function t(x,m){if(e){var v=x.deletions;v===null?(x.deletions=[m],x.flags|=16):v.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function l(x,m){return x=Yt(x,m),x.index=0,x.sibling=null,x}function o(x,m,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<m?(x.flags|=2,m):v):(x.flags|=2,m)):(x.flags|=1048576,m)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function d(x,m,v,D){return m===null||m.tag!==6?(m=To(v,x.mode,D),m.return=x,m):(m=l(m,v),m.return=x,m)}function f(x,m,v,D){var K=v.type;return K===g?A(x,m,v.props.children,D,v.key):m!==null&&(m.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ve&&Ia(K)===m.type)?(D=l(m,v.props),D.ref=dr(x,m,v),D.return=x,D):(D=Ps(v.type,v.key,v.props,null,x.mode,D),D.ref=dr(x,m,v),D.return=x,D)}function w(x,m,v,D){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=_o(v,x.mode,D),m.return=x,m):(m=l(m,v.children||[]),m.return=x,m)}function A(x,m,v,D,K){return m===null||m.tag!==7?(m=cn(v,x.mode,D,K),m.return=x,m):(m=l(m,v),m.return=x,m)}function T(x,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=To(""+m,x.mode,v),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ne:return v=Ps(m.type,m.key,m.props,null,x.mode,v),v.ref=dr(x,null,m),v.return=x,v;case U:return m=_o(m,x.mode,v),m.return=x,m;case Ve:var D=m._init;return T(x,D(m._payload),v)}if(Fn(m)||J(m))return m=cn(m,x.mode,v,null),m.return=x,m;os(x,m)}return null}function M(x,m,v,D){var K=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return K!==null?null:d(x,m,""+v,D);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ne:return v.key===K?f(x,m,v,D):null;case U:return v.key===K?w(x,m,v,D):null;case Ve:return K=v._init,M(x,m,K(v._payload),D)}if(Fn(v)||J(v))return K!==null?null:A(x,m,v,D,null);os(x,v)}return null}function R(x,m,v,D,K){if(typeof D=="string"&&D!==""||typeof D=="number")return x=x.get(v)||null,d(m,x,""+D,K);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ne:return x=x.get(D.key===null?v:D.key)||null,f(m,x,D,K);case U:return x=x.get(D.key===null?v:D.key)||null,w(m,x,D,K);case Ve:var Y=D._init;return R(x,m,v,Y(D._payload),K)}if(Fn(D)||J(D))return x=x.get(v)||null,A(m,x,D,K,null);os(m,D)}return null}function W(x,m,v,D){for(var K=null,Y=null,Z=m,q=m=0,De=null;Z!==null&&q<v.length;q++){Z.index>q?(De=Z,Z=null):De=Z.sibling;var ae=M(x,Z,v[q],D);if(ae===null){Z===null&&(Z=De);break}e&&Z&&ae.alternate===null&&t(x,Z),m=o(ae,m,q),Y===null?K=ae:Y.sibling=ae,Y=ae,Z=De}if(q===v.length)return n(x,Z),je&&tn(x,q),K;if(Z===null){for(;q<v.length;q++)Z=T(x,v[q],D),Z!==null&&(m=o(Z,m,q),Y===null?K=Z:Y.sibling=Z,Y=Z);return je&&tn(x,q),K}for(Z=r(x,Z);q<v.length;q++)De=R(Z,x,q,v[q],D),De!==null&&(e&&De.alternate!==null&&Z.delete(De.key===null?q:De.key),m=o(De,m,q),Y===null?K=De:Y.sibling=De,Y=De);return e&&Z.forEach(function(Zt){return t(x,Zt)}),je&&tn(x,q),K}function V(x,m,v,D){var K=J(v);if(typeof K!="function")throw Error(u(150));if(v=K.call(v),v==null)throw Error(u(151));for(var Y=K=null,Z=m,q=m=0,De=null,ae=v.next();Z!==null&&!ae.done;q++,ae=v.next()){Z.index>q?(De=Z,Z=null):De=Z.sibling;var Zt=M(x,Z,ae.value,D);if(Zt===null){Z===null&&(Z=De);break}e&&Z&&Zt.alternate===null&&t(x,Z),m=o(Zt,m,q),Y===null?K=Zt:Y.sibling=Zt,Y=Zt,Z=De}if(ae.done)return n(x,Z),je&&tn(x,q),K;if(Z===null){for(;!ae.done;q++,ae=v.next())ae=T(x,ae.value,D),ae!==null&&(m=o(ae,m,q),Y===null?K=ae:Y.sibling=ae,Y=ae);return je&&tn(x,q),K}for(Z=r(x,Z);!ae.done;q++,ae=v.next())ae=R(Z,x,q,ae.value,D),ae!==null&&(e&&ae.alternate!==null&&Z.delete(ae.key===null?q:ae.key),m=o(ae,m,q),Y===null?K=ae:Y.sibling=ae,Y=ae);return e&&Z.forEach(function(vf){return t(x,vf)}),je&&tn(x,q),K}function Me(x,m,v,D){if(typeof v=="object"&&v!==null&&v.type===g&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ne:e:{for(var K=v.key,Y=m;Y!==null;){if(Y.key===K){if(K=v.type,K===g){if(Y.tag===7){n(x,Y.sibling),m=l(Y,v.props.children),m.return=x,x=m;break e}}else if(Y.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ve&&Ia(K)===Y.type){n(x,Y.sibling),m=l(Y,v.props),m.ref=dr(x,Y,v),m.return=x,x=m;break e}n(x,Y);break}else t(x,Y);Y=Y.sibling}v.type===g?(m=cn(v.props.children,x.mode,D,v.key),m.return=x,x=m):(D=Ps(v.type,v.key,v.props,null,x.mode,D),D.ref=dr(x,m,v),D.return=x,x=D)}return i(x);case U:e:{for(Y=v.key;m!==null;){if(m.key===Y)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(x,m.sibling),m=l(m,v.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=_o(v,x.mode,D),m.return=x,x=m}return i(x);case Ve:return Y=v._init,Me(x,m,Y(v._payload),D)}if(Fn(v))return W(x,m,v,D);if(J(v))return V(x,m,v,D);os(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(x,m.sibling),m=l(m,v),m.return=x,x=m):(n(x,m),m=To(v,x.mode,D),m.return=x,x=m),i(x)):n(x,m)}return Me}var Mn=Ea(!0),Ma=Ea(!1),is=Rt(null),as=null,Pn=null,Ul=null;function Hl(){Ul=Pn=as=null}function Wl(e){var t=is.current;xe(is),e._currentValue=t}function Vl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ln(e,t){as=e,Ul=Pn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Qe=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(Ul!==e)if(e={context:e,memoizedValue:t,next:null},Pn===null){if(as===null)throw Error(u(308));Pn=e,as.dependencies={lanes:0,firstContext:e}}else Pn=Pn.next=e;return t}var nn=null;function Kl(e){nn===null?nn=[e]:nn.push(e)}function Pa(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Kl(t)):(n.next=l.next,l.next=n),t.interleaved=n,Et(e,r)}function Et(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ut=!1;function Gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(se&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Et(e,n)}return l=r.interleaved,l===null?(t.next=t,Kl(r)):(t.next=l.next,l.next=t),r.interleaved=t,Et(e,n)}function us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,il(e,n)}}function Aa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function cs(e,t,n,r){var l=e.updateQueue;Ut=!1;var o=l.firstBaseUpdate,i=l.lastBaseUpdate,d=l.shared.pending;if(d!==null){l.shared.pending=null;var f=d,w=f.next;f.next=null,i===null?o=w:i.next=w,i=f;var A=e.alternate;A!==null&&(A=A.updateQueue,d=A.lastBaseUpdate,d!==i&&(d===null?A.firstBaseUpdate=w:d.next=w,A.lastBaseUpdate=f))}if(o!==null){var T=l.baseState;i=0,A=w=f=null,d=o;do{var M=d.lane,R=d.eventTime;if((r&M)===M){A!==null&&(A=A.next={eventTime:R,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var W=e,V=d;switch(M=t,R=n,V.tag){case 1:if(W=V.payload,typeof W=="function"){T=W.call(R,T,M);break e}T=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=V.payload,M=typeof W=="function"?W.call(R,T,M):W,M==null)break e;T=H({},T,M);break e;case 2:Ut=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,M=l.effects,M===null?l.effects=[d]:M.push(d))}else R={eventTime:R,lane:M,tag:d.tag,payload:d.payload,callback:d.callback,next:null},A===null?(w=A=R,f=T):A=A.next=R,i|=M;if(d=d.next,d===null){if(d=l.shared.pending,d===null)break;M=d,d=M.next,M.next=null,l.lastBaseUpdate=M,l.shared.pending=null}}while(!0);if(A===null&&(f=T),l.baseState=f,l.firstBaseUpdate=w,l.lastBaseUpdate=A,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);ln|=i,e.lanes=i,e.memoizedState=T}}function Ta(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(u(191,l));l.call(r)}}}var fr={},wt=Rt(fr),mr=Rt(fr),pr=Rt(fr);function rn(e){if(e===fr)throw Error(u(174));return e}function Ql(e,t){switch(he(pr,t),he(mr,e),he(wt,fr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ys(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ys(t,e)}xe(wt),he(wt,t)}function An(){xe(wt),xe(mr),xe(pr)}function _a(e){rn(pr.current);var t=rn(wt.current),n=Ys(t,e.type);t!==n&&(he(mr,e),he(wt,n))}function Yl(e){mr.current===e&&(xe(wt),xe(mr))}var ke=Rt(0);function ds(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zl=[];function Jl(){for(var e=0;e<Zl.length;e++)Zl[e]._workInProgressVersionPrimary=null;Zl.length=0}var fs=re.ReactCurrentDispatcher,ql=re.ReactCurrentBatchConfig,sn=0,Se=null,Le=null,Te=null,ms=!1,hr=!1,gr=0,Fd=0;function Re(){throw Error(u(321))}function Xl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dt(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,l,o){if(sn=o,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fs.current=e===null||e.memoizedState===null?Wd:Vd,e=n(r,l),hr){o=0;do{if(hr=!1,gr=0,25<=o)throw Error(u(301));o+=1,Te=Le=null,t.updateQueue=null,fs.current=Kd,e=n(r,l)}while(hr)}if(fs.current=gs,t=Le!==null&&Le.next!==null,sn=0,Te=Le=Se=null,ms=!1,t)throw Error(u(300));return e}function to(){var e=gr!==0;return gr=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Se.memoizedState=Te=e:Te=Te.next=e,Te}function ot(){if(Le===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Te===null?Se.memoizedState:Te.next;if(t!==null)Te=t,Le=e;else{if(e===null)throw Error(u(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Te===null?Se.memoizedState=Te=e:Te=Te.next=e}return Te}function yr(e,t){return typeof t=="function"?t(e):t}function no(e){var t=ot(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var r=Le,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var i=l.next;l.next=o.next,o.next=i}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var d=i=null,f=null,w=o;do{var A=w.lane;if((sn&A)===A)f!==null&&(f=f.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),r=w.hasEagerState?w.eagerState:e(r,w.action);else{var T={lane:A,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};f===null?(d=f=T,i=r):f=f.next=T,Se.lanes|=A,ln|=A}w=w.next}while(w!==null&&w!==o);f===null?i=r:f.next=d,dt(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Se.lanes|=o,ln|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ro(e){var t=ot(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do o=e(o,i.action),i=i.next;while(i!==l);dt(o,t.memoizedState)||(Qe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Da(){}function Ba(e,t){var n=Se,r=ot(),l=t(),o=!dt(r.memoizedState,l);if(o&&(r.memoizedState=l,Qe=!0),r=r.queue,so(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,xr(9,za.bind(null,n,r,l,t),void 0,null),_e===null)throw Error(u(349));(sn&30)!==0||Oa(n,t,l)}return l}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function za(e,t,n,r){t.value=n,t.getSnapshot=r,Fa(t)&&$a(e)}function Ra(e,t,n){return n(function(){Fa(t)&&$a(e)})}function Fa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dt(e,n)}catch{return!0}}function $a(e){var t=Et(e,1);t!==null&&gt(t,e,1,-1)}function Ua(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:e},t.queue=e,e=e.dispatch=Hd.bind(null,Se,e),[t.memoizedState,e]}function xr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ha(){return ot().memoizedState}function ps(e,t,n,r){var l=jt();Se.flags|=e,l.memoizedState=xr(1|t,n,void 0,r===void 0?null:r)}function hs(e,t,n,r){var l=ot();r=r===void 0?null:r;var o=void 0;if(Le!==null){var i=Le.memoizedState;if(o=i.destroy,r!==null&&Xl(r,i.deps)){l.memoizedState=xr(t,n,o,r);return}}Se.flags|=e,l.memoizedState=xr(1|t,n,o,r)}function Wa(e,t){return ps(8390656,8,e,t)}function so(e,t){return hs(2048,8,e,t)}function Va(e,t){return hs(4,2,e,t)}function Ka(e,t){return hs(4,4,e,t)}function Ga(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qa(e,t,n){return n=n!=null?n.concat([e]):null,hs(4,4,Ga.bind(null,t,e),n)}function lo(){}function Ya(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Za(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return(sn&21)===0?(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n):(dt(n,t)||(n=Ii(),Se.lanes|=n,ln|=n,e.baseState=!0),t)}function $d(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=ql.transition;ql.transition={};try{e(!1),t()}finally{de=n,ql.transition=r}}function qa(){return ot().memoizedState}function Ud(e,t,n){var r=Gt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))eu(t,n);else if(n=Pa(e,t,n,r),n!==null){var l=We();gt(n,e,r,l),tu(n,t,r)}}function Hd(e,t,n){var r=Gt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))eu(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,d=o(i,n);if(l.hasEagerState=!0,l.eagerState=d,dt(d,i)){var f=t.interleaved;f===null?(l.next=l,Kl(t)):(l.next=f.next,f.next=l),t.interleaved=l;return}}catch{}n=Pa(e,t,l,r),n!==null&&(l=We(),gt(n,e,r,l),tu(n,t,r))}}function Xa(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function eu(e,t){hr=ms=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tu(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,il(e,n)}}var gs={readContext:lt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Wd={readContext:lt,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Wa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ps(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return ps(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ud.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:Ua,useDebugValue:lo,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=$d.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,l=jt();if(je){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),_e===null)throw Error(u(349));(sn&30)!==0||Oa(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Wa(Ra.bind(null,r,o,e),[e]),r.flags|=2048,xr(9,za.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=jt(),t=_e.identifierPrefix;if(je){var n=It,r=bt;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vd={readContext:lt,useCallback:Ya,useContext:lt,useEffect:so,useImperativeHandle:Qa,useInsertionEffect:Va,useLayoutEffect:Ka,useMemo:Za,useReducer:no,useRef:Ha,useState:function(){return no(yr)},useDebugValue:lo,useDeferredValue:function(e){var t=ot();return Ja(t,Le.memoizedState,e)},useTransition:function(){var e=no(yr)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Da,useSyncExternalStore:Ba,useId:qa,unstable_isNewReconciler:!1},Kd={readContext:lt,useCallback:Ya,useContext:lt,useEffect:so,useImperativeHandle:Qa,useInsertionEffect:Va,useLayoutEffect:Ka,useMemo:Za,useReducer:ro,useRef:Ha,useState:function(){return ro(yr)},useDebugValue:lo,useDeferredValue:function(e){var t=ot();return Le===null?t.memoizedState=e:Ja(t,Le.memoizedState,e)},useTransition:function(){var e=ro(yr)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Da,useSyncExternalStore:Ba,useId:qa,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:H({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ys={isMounted:function(e){return(e=e._reactInternals)?Jt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=We(),l=Gt(e),o=Mt(r,l);o.payload=t,n!=null&&(o.callback=n),t=Ht(e,o,l),t!==null&&(gt(t,e,l,r),us(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=We(),l=Gt(e),o=Mt(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ht(e,o,l),t!==null&&(gt(t,e,l,r),us(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),r=Gt(e),l=Mt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Ht(e,l,r),t!==null&&(gt(t,e,r,n),us(t,e,r))}};function nu(e,t,n,r,l,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!sr(n,r)||!sr(l,o):!0}function ru(e,t,n){var r=!1,l=Ft,o=t.contextType;return typeof o=="object"&&o!==null?o=lt(o):(l=Ge(t)?Xt:ze.current,r=t.contextTypes,o=(r=r!=null)?Cn(e,l):Ft),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ys,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function su(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ys.enqueueReplaceState(t,t.state,null)}function io(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Gl(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=lt(o):(o=Ge(t)?Xt:ze.current,l.context=Cn(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(oo(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ys.enqueueReplaceState(l,l.state,null),cs(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Tn(e,t){try{var n="",r=t;do n+=oe(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function ao(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gd=typeof WeakMap=="function"?WeakMap:Map;function lu(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ss||(Ss=!0,Co=r),uo(e,t)},n}function ou(e,t,n){n=Mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){uo(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){uo(e,t),typeof r!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function iu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gd;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=af.bind(null,e,t,n),t.then(e,e))}function au(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,Ht(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Qd=re.ReactCurrentOwner,Qe=!1;function He(e,t,n,r){t.child=e===null?Ma(t,null,n,r):Mn(t,e.child,n,r)}function cu(e,t,n,r,l){n=n.render;var o=t.ref;return Ln(t,l),r=eo(e,t,n,r,o,l),n=to(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Pt(e,t,l)):(je&&n&&Ol(t),t.flags|=1,He(e,t,r,l),t.child)}function du(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Ao(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,fu(e,t,o,r,l)):(e=Ps(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&l)===0){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:sr,n(i,r)&&e.ref===t.ref)return Pt(e,t,l)}return t.flags|=1,e=Yt(o,r),e.ref=t.ref,e.return=t,t.child=e}function fu(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=o,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,Pt(e,t,l)}return co(e,t,n,r,l)}function mu(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Dn,nt),nt|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Dn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,he(Dn,nt),nt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,he(Dn,nt),nt|=r;return He(e,t,l,n),t.child}function pu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function co(e,t,n,r,l){var o=Ge(n)?Xt:ze.current;return o=Cn(t,o),Ln(t,l),n=eo(e,t,n,r,o,l),r=to(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Pt(e,t,l)):(je&&r&&Ol(t),t.flags|=1,He(e,t,n,l),t.child)}function hu(e,t,n,r,l){if(Ge(n)){var o=!0;ts(t)}else o=!1;if(Ln(t,l),t.stateNode===null)vs(e,t),ru(t,n,r),io(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,d=t.memoizedProps;i.props=d;var f=i.context,w=n.contextType;typeof w=="object"&&w!==null?w=lt(w):(w=Ge(n)?Xt:ze.current,w=Cn(t,w));var A=n.getDerivedStateFromProps,T=typeof A=="function"||typeof i.getSnapshotBeforeUpdate=="function";T||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==r||f!==w)&&su(t,i,r,w),Ut=!1;var M=t.memoizedState;i.state=M,cs(t,r,i,l),f=t.memoizedState,d!==r||M!==f||Ke.current||Ut?(typeof A=="function"&&(oo(t,n,A,r),f=t.memoizedState),(d=Ut||nu(t,n,d,r,M,f,w))?(T||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=w,r=d):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,La(e,t),d=t.memoizedProps,w=t.type===t.elementType?d:mt(t.type,d),i.props=w,T=t.pendingProps,M=i.context,f=n.contextType,typeof f=="object"&&f!==null?f=lt(f):(f=Ge(n)?Xt:ze.current,f=Cn(t,f));var R=n.getDerivedStateFromProps;(A=typeof R=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d!==T||M!==f)&&su(t,i,r,f),Ut=!1,M=t.memoizedState,i.state=M,cs(t,r,i,l);var W=t.memoizedState;d!==T||M!==W||Ke.current||Ut?(typeof R=="function"&&(oo(t,n,R,r),W=t.memoizedState),(w=Ut||nu(t,n,w,r,M,W,f)||!1)?(A||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,W,f),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,W,f)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||d===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=W),i.props=r,i.state=W,i.context=f,r=w):(typeof i.componentDidUpdate!="function"||d===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),r=!1)}return fo(e,t,n,r,o,l)}function fo(e,t,n,r,l,o){pu(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&wa(t,n,!1),Pt(e,t,o);r=t.stateNode,Qd.current=t;var d=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Mn(t,e.child,null,o),t.child=Mn(t,null,d,o)):He(e,t,d,o),t.memoizedState=r.state,l&&wa(t,n,!0),t.child}function gu(e){var t=e.stateNode;t.pendingContext?xa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xa(e,t.context,!1),Ql(e,t.containerInfo)}function yu(e,t,n,r,l){return En(),$l(l),t.flags|=256,He(e,t,n,r),t.child}var mo={dehydrated:null,treeContext:null,retryLane:0};function po(e){return{baseLanes:e,cachePool:null,transitions:null}}function xu(e,t,n){var r=t.pendingProps,l=ke.current,o=!1,i=(t.flags&128)!==0,d;if((d=i)||(d=e!==null&&e.memoizedState===null?!1:(l&2)!==0),d?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),he(ke,l&1),e===null)return Fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ls(i,r,0,null),e=cn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=po(n),t.memoizedState=mo,e):ho(t,i));if(l=e.memoizedState,l!==null&&(d=l.dehydrated,d!==null))return Yd(e,t,i,r,d,l,n);if(o){o=r.fallback,i=t.mode,l=e.child,d=l.sibling;var f={mode:"hidden",children:r.children};return(i&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=Yt(l,f),r.subtreeFlags=l.subtreeFlags&14680064),d!==null?o=Yt(d,o):(o=cn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?po(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=mo,r}return o=e.child,e=o.sibling,r=Yt(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ho(e,t){return t=Ls({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xs(e,t,n,r){return r!==null&&$l(r),Mn(t,e.child,null,n),e=ho(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yd(e,t,n,r,l,o,i){if(n)return t.flags&256?(t.flags&=-257,r=ao(Error(u(422))),xs(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Ls({mode:"visible",children:r.children},l,0,null),o=cn(o,l,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&Mn(t,e.child,null,i),t.child.memoizedState=po(i),t.memoizedState=mo,o);if((t.mode&1)===0)return xs(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var d=r.dgst;return r=d,o=Error(u(419)),r=ao(o,r,void 0),xs(e,t,i,r)}if(d=(i&e.childLanes)!==0,Qe||d){if(r=_e,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|i))!==0?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Et(e,l),gt(r,e,l,-1))}return Lo(),r=ao(Error(u(421))),xs(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=uf.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,tt=zt(l.nextSibling),et=t,je=!0,ft=null,e!==null&&(rt[st++]=bt,rt[st++]=It,rt[st++]=en,bt=e.id,It=e.overflow,en=t),t=ho(t,r.children),t.flags|=4096,t)}function vu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vl(e.return,t,n)}function go(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function wu(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(He(e,t,r.children,n),r=ke.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vu(e,n,t);else if(e.tag===19)vu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(ke,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&ds(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),go(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ds(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}go(t,!0,n,null,o);break;case"together":go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=Yt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zd(e,t,n){switch(t.tag){case 3:gu(t),En();break;case 5:_a(t);break;case 1:Ge(t.type)&&ts(t);break;case 4:Ql(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;he(is,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(ke,ke.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?xu(e,t,n):(he(ke,ke.current&1),e=Pt(e,t,n),e!==null?e.sibling:null);he(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return wu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),he(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,mu(e,t,n)}return Pt(e,t,n)}var ju,yo,Nu,ku;ju=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},yo=function(){},Nu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,rn(wt.current);var o=null;switch(n){case"input":l=Vs(e,l),r=Vs(e,r),o=[];break;case"select":l=H({},l,{value:void 0}),r=H({},r,{value:void 0}),o=[];break;case"textarea":l=Qs(e,l),r=Qs(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qr)}Zs(n,r);var i;n=null;for(w in l)if(!r.hasOwnProperty(w)&&l.hasOwnProperty(w)&&l[w]!=null)if(w==="style"){var d=l[w];for(i in d)d.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(p.hasOwnProperty(w)?o||(o=[]):(o=o||[]).push(w,null));for(w in r){var f=r[w];if(d=l?.[w],r.hasOwnProperty(w)&&f!==d&&(f!=null||d!=null))if(w==="style")if(d){for(i in d)!d.hasOwnProperty(i)||f&&f.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in f)f.hasOwnProperty(i)&&d[i]!==f[i]&&(n||(n={}),n[i]=f[i])}else n||(o||(o=[]),o.push(w,n)),n=f;else w==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,d=d?d.__html:void 0,f!=null&&d!==f&&(o=o||[]).push(w,f)):w==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(w,""+f):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(p.hasOwnProperty(w)?(f!=null&&w==="onScroll"&&ye("scroll",e),o||d===f||(o=[])):(o=o||[]).push(w,f))}n&&(o=o||[]).push("style",n);var w=o;(t.updateQueue=w)&&(t.flags|=4)}},ku=function(e,t,n,r){n!==r&&(t.flags|=4)};function vr(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jd(e,t,n){var r=t.pendingProps;switch(zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Ge(t.type)&&es(),Fe(t),null;case 3:return r=t.stateNode,An(),xe(Ke),xe(ze),Jl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ls(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ft!==null&&(Eo(ft),ft=null))),yo(e,t),Fe(t),null;case 5:Yl(t);var l=rn(pr.current);if(n=t.type,e!==null&&t.stateNode!=null)Nu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(u(166));return Fe(t),null}if(e=rn(wt.current),ls(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[vt]=t,r[ur]=o,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(l=0;l<or.length;l++)ye(or[l],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":ri(r,o),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ye("invalid",r);break;case"textarea":oi(r,o),ye("invalid",r)}Zs(n,o),l=null;for(var i in o)if(o.hasOwnProperty(i)){var d=o[i];i==="children"?typeof d=="string"?r.textContent!==d&&(o.suppressHydrationWarning!==!0&&Jr(r.textContent,d,e),l=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&Jr(r.textContent,d,e),l=["children",""+d]):p.hasOwnProperty(i)&&d!=null&&i==="onScroll"&&ye("scroll",r)}switch(n){case"input":Er(r),li(r,o,!0);break;case"textarea":Er(r),ai(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qr)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ui(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[vt]=t,e[ur]=r,ju(e,t,!1,!1),t.stateNode=e;e:{switch(i=Js(n,r),n){case"dialog":ye("cancel",e),ye("close",e),l=r;break;case"iframe":case"object":case"embed":ye("load",e),l=r;break;case"video":case"audio":for(l=0;l<or.length;l++)ye(or[l],e);l=r;break;case"source":ye("error",e),l=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),l=r;break;case"details":ye("toggle",e),l=r;break;case"input":ri(e,r),l=Vs(e,r),ye("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=H({},r,{value:void 0}),ye("invalid",e);break;case"textarea":oi(e,r),l=Qs(e,r),ye("invalid",e);break;default:l=r}Zs(n,l),d=l;for(o in d)if(d.hasOwnProperty(o)){var f=d[o];o==="style"?fi(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&ci(e,f)):o==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&$n(e,f):typeof f=="number"&&$n(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(p.hasOwnProperty(o)?f!=null&&o==="onScroll"&&ye("scroll",e):f!=null&&ve(e,o,f,i))}switch(n){case"input":Er(e),li(e,r,!1);break;case"textarea":Er(e),ai(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ce(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?mn(e,!!r.multiple,o,!1):r.defaultValue!=null&&mn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)ku(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(u(166));if(n=rn(pr.current),rn(wt.current),ls(t)){if(r=t.stateNode,n=t.memoizedProps,r[vt]=t,(o=r.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:Jr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jr(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vt]=t,t.stateNode=r}return Fe(t),null;case 13:if(xe(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&tt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ba(),En(),t.flags|=98560,o=!1;else if(o=ls(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(u(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(u(317));o[vt]=t}else En(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),o=!1}else ft!==null&&(Eo(ft),ft=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ke.current&1)!==0?Ae===0&&(Ae=3):Lo())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return An(),yo(e,t),e===null&&ir(t.stateNode.containerInfo),Fe(t),null;case 10:return Wl(t.type._context),Fe(t),null;case 17:return Ge(t.type)&&es(),Fe(t),null;case 19:if(xe(ke),o=t.memoizedState,o===null)return Fe(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)vr(o,!1);else{if(Ae!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=ds(e),i!==null){for(t.flags|=128,vr(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(ke,ke.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ee()>Bn&&(t.flags|=128,r=!0,vr(o,!1),t.lanes=4194304)}else{if(!r)if(e=ds(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!je)return Fe(t),null}else 2*Ee()-o.renderingStartTime>Bn&&n!==1073741824&&(t.flags|=128,r=!0,vr(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ee(),t.sibling=null,n=ke.current,he(ke,r?n&1|2:n&1),t):(Fe(t),null);case 22:case 23:return Po(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(nt&1073741824)!==0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(u(156,t.tag))}function qd(e,t){switch(zl(t),t.tag){case 1:return Ge(t.type)&&es(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return An(),xe(Ke),xe(ze),Jl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Yl(t),null;case 13:if(xe(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));En()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ke),null;case 4:return An(),null;case 10:return Wl(t.type._context),null;case 22:case 23:return Po(),null;case 24:return null;default:return null}}var ws=!1,$e=!1,Xd=typeof WeakSet=="function"?WeakSet:Set,$=null;function _n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function xo(e,t,n){try{n()}catch(r){be(e,t,r)}}var Su=!1;function ef(e,t){if(Ml=Fr,e=na(),jl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,d=-1,f=-1,w=0,A=0,T=e,M=null;t:for(;;){for(var R;T!==n||l!==0&&T.nodeType!==3||(d=i+l),T!==o||r!==0&&T.nodeType!==3||(f=i+r),T.nodeType===3&&(i+=T.nodeValue.length),(R=T.firstChild)!==null;)M=T,T=R;for(;;){if(T===e)break t;if(M===n&&++w===l&&(d=i),M===o&&++A===r&&(f=i),(R=T.nextSibling)!==null)break;T=M,M=T.parentNode}T=R}n=d===-1||f===-1?null:{start:d,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pl={focusedElem:e,selectionRange:n},Fr=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var W=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(W!==null){var V=W.memoizedProps,Me=W.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?V:mt(t.type,V),Me);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch(D){be(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return W=Su,Su=!1,W}function wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&xo(t,n,o)}l=l.next}while(l!==r)}}function js(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vo(e){var t=e.ref;if(t!==null){var n=e.stateNode;e.tag,e=n,typeof t=="function"?t(e):t.current=e}}function Cu(e){var t=e.alternate;t!==null&&(e.alternate=null,Cu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[ur],delete t[_l],delete t[Bd],delete t[Od])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bu(e){return e.tag===5||e.tag===3||e.tag===4}function Iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qr));else if(r!==4&&(e=e.child,e!==null))for(wo(e,t,n),e=e.sibling;e!==null;)wo(e,t,n),e=e.sibling}function jo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jo(e,t,n),e=e.sibling;e!==null;)jo(e,t,n),e=e.sibling}var Be=null,pt=!1;function Wt(e,t,n){for(n=n.child;n!==null;)Eu(e,t,n),n=n.sibling}function Eu(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(_r,n)}catch{}switch(n.tag){case 5:$e||_n(n,t);case 6:var r=Be,l=pt;Be=null,Wt(e,t,n),Be=r,pt=l,Be!==null&&(pt?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(pt?(e=Be,n=n.stateNode,e.nodeType===8?Tl(e.parentNode,n):e.nodeType===1&&Tl(e,n),qn(e)):Tl(Be,n.stateNode));break;case 4:r=Be,l=pt,Be=n.stateNode.containerInfo,pt=!0,Wt(e,t,n),Be=r,pt=l;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,i=o.destroy;o=o.tag,i!==void 0&&((o&2)!==0||(o&4)!==0)&&xo(n,t,i),l=l.next}while(l!==r)}Wt(e,t,n);break;case 1:if(!$e&&(_n(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){be(n,t,d)}Wt(e,t,n);break;case 21:Wt(e,t,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,Wt(e,t,n),$e=r):Wt(e,t,n);break;default:Wt(e,t,n)}}function Mu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xd),t.forEach(function(r){var l=cf.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,i=t,d=i;e:for(;d!==null;){switch(d.tag){case 5:Be=d.stateNode,pt=!1;break e;case 3:Be=d.stateNode.containerInfo,pt=!0;break e;case 4:Be=d.stateNode.containerInfo,pt=!0;break e}d=d.return}if(Be===null)throw Error(u(160));Eu(o,i,l),Be=null,pt=!1;var f=l.alternate;f!==null&&(f.return=null),l.return=null}catch(w){be(l,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pu(t,e),t=t.sibling}function Pu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),Nt(e),r&4){try{wr(3,e,e.return),js(3,e)}catch(V){be(e,e.return,V)}try{wr(5,e,e.return)}catch(V){be(e,e.return,V)}}break;case 1:ht(t,e),Nt(e),r&512&&n!==null&&_n(n,n.return);break;case 5:if(ht(t,e),Nt(e),r&512&&n!==null&&_n(n,n.return),e.flags&32){var l=e.stateNode;try{$n(l,"")}catch(V){be(e,e.return,V)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,d=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&si(l,o),Js(d,i);var w=Js(d,o);for(i=0;i<f.length;i+=2){var A=f[i],T=f[i+1];A==="style"?fi(l,T):A==="dangerouslySetInnerHTML"?ci(l,T):A==="children"?$n(l,T):ve(l,A,T,w)}switch(d){case"input":Ks(l,o);break;case"textarea":ii(l,o);break;case"select":var M=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var R=o.value;R!=null?mn(l,!!o.multiple,R,!1):M!==!!o.multiple&&(o.defaultValue!=null?mn(l,!!o.multiple,o.defaultValue,!0):mn(l,!!o.multiple,o.multiple?[]:"",!1))}l[ur]=o}catch(V){be(e,e.return,V)}}break;case 6:if(ht(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(u(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(V){be(e,e.return,V)}}break;case 3:if(ht(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qn(t.containerInfo)}catch(V){be(e,e.return,V)}break;case 4:ht(t,e),Nt(e);break;case 13:ht(t,e),Nt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(So=Ee())),r&4&&Mu(e);break;case 22:if(A=n!==null&&n.memoizedState!==null,e.mode&1?($e=(w=$e)||A,ht(t,e),$e=w):ht(t,e),Nt(e),r&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!A&&(e.mode&1)!==0)for($=e,A=e.child;A!==null;){for(T=$=A;$!==null;){switch(M=$,R=M.child,M.tag){case 0:case 11:case 14:case 15:wr(4,M,M.return);break;case 1:_n(M,M.return);var W=M.stateNode;if(typeof W.componentWillUnmount=="function"){r=M,n=M.return;try{t=r,W.props=t.memoizedProps,W.state=t.memoizedState,W.componentWillUnmount()}catch(V){be(r,n,V)}}break;case 5:_n(M,M.return);break;case 22:if(M.memoizedState!==null){Tu(T);continue}}R!==null?(R.return=M,$=R):Tu(T)}A=A.sibling}e:for(A=null,T=e;;){if(T.tag===5){if(A===null){A=T;try{l=T.stateNode,w?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=T.stateNode,f=T.memoizedProps.style,i=f!=null&&f.hasOwnProperty("display")?f.display:null,d.style.display=di("display",i))}catch(V){be(e,e.return,V)}}}else if(T.tag===6){if(A===null)try{T.stateNode.nodeValue=w?"":T.memoizedProps}catch(V){be(e,e.return,V)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===e)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===e)break e;for(;T.sibling===null;){if(T.return===null||T.return===e)break e;A===T&&(A=null),T=T.return}A===T&&(A=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:ht(t,e),Nt(e),r&4&&Mu(e);break;case 21:break;default:ht(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bu(n)){var r=n;break e}n=n.return}throw Error(u(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&($n(l,""),r.flags&=-33);var o=Iu(e);jo(e,o,l);break;case 3:case 4:var i=r.stateNode.containerInfo,d=Iu(e);wo(e,d,i);break;default:throw Error(u(161))}}catch(f){be(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tf(e,t,n){$=e,Lu(e)}function Lu(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var l=$,o=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||ws;if(!i){var d=l.alternate,f=d!==null&&d.memoizedState!==null||$e;d=ws;var w=$e;if(ws=i,($e=f)&&!w)for($=l;$!==null;)i=$,f=i.child,i.tag===22&&i.memoizedState!==null?_u(l):f!==null?(f.return=i,$=f):_u(l);for(;o!==null;)$=o,Lu(o),o=o.sibling;$=l,ws=d,$e=w}Au(e)}else(l.subtreeFlags&8772)!==0&&o!==null?(o.return=l,$=o):Au(e)}}function Au(e){for(;$!==null;){var t=$;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:$e||js(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$e)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:mt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ta(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ta(t,i,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var A=w.memoizedState;if(A!==null){var T=A.dehydrated;T!==null&&qn(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(u(163))}$e||t.flags&512&&vo(t)}catch(M){be(t,t.return,M)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Tu(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function _u(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{js(4,t)}catch(f){be(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(f){be(t,l,f)}}var o=t.return;try{vo(t)}catch(f){be(t,o,f)}break;case 5:var i=t.return;try{vo(t)}catch(f){be(t,i,f)}}}catch(f){be(t,t.return,f)}if(t===e){$=null;break}var d=t.sibling;if(d!==null){d.return=t.return,$=d;break}$=t.return}}var nf=Math.ceil,Ns=re.ReactCurrentDispatcher,No=re.ReactCurrentOwner,it=re.ReactCurrentBatchConfig,se=0,_e=null,Pe=null,Oe=0,nt=0,Dn=Rt(0),Ae=0,jr=null,ln=0,ks=0,ko=0,Nr=null,Ye=null,So=0,Bn=1/0,Lt=null,Ss=!1,Co=null,Vt=null,Cs=!1,Kt=null,bs=0,kr=0,bo=null,Is=-1,Es=0;function We(){return(se&6)!==0?Ee():Is!==-1?Is:Is=Ee()}function Gt(e){return(e.mode&1)===0?1:(se&2)!==0&&Oe!==0?Oe&-Oe:Rd.transition!==null?(Es===0&&(Es=Ii()),Es):(e=de,e!==0||(e=window.event,e=e===void 0?16:Bi(e.type)),e)}function gt(e,t,n,r){if(50<kr)throw kr=0,bo=null,Error(u(185));Gn(e,n,r),((se&2)===0||e!==_e)&&(e===_e&&((se&2)===0&&(ks|=n),Ae===4&&Qt(e,Oe)),Ze(e,r),n===1&&se===0&&(t.mode&1)===0&&(Bn=Ee()+500,ns&&$t()))}function Ze(e,t){var n=e.callbackNode;Rc(e,t);var r=Or(e,e===_e?Oe:0);if(r===0)n!==null&&Si(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Si(n),t===1)e.tag===0?zd(Bu.bind(null,e)):ja(Bu.bind(null,e)),_d(function(){(se&6)===0&&$t()}),n=null;else{switch(Ei(r)){case 1:n=sl;break;case 4:n=Ci;break;case 16:n=Tr;break;case 536870912:n=bi;break;default:n=Tr}n=Wu(n,Du.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Du(e,t){if(Is=-1,Es=0,(se&6)!==0)throw Error(u(327));var n=e.callbackNode;if(On()&&e.callbackNode!==n)return null;var r=Or(e,e===_e?Oe:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Ms(e,r);else{t=r;var l=se;se|=2;var o=zu();(_e!==e||Oe!==t)&&(Lt=null,Bn=Ee()+500,an(e,t));do try{lf();break}catch(d){Ou(e,d)}while(!0);Hl(),Ns.current=o,se=l,Pe!==null?t=0:(_e=null,Oe=0,t=Ae)}if(t!==0){if(t===2&&(l=ll(e),l!==0&&(r=l,t=Io(e,l))),t===1)throw n=jr,an(e,0),Qt(e,r),Ze(e,Ee()),n;if(t===6)Qt(e,r);else{if(l=e.current.alternate,(r&30)===0&&!rf(l)&&(t=Ms(e,r),t===2&&(o=ll(e),o!==0&&(r=o,t=Io(e,o))),t===1))throw n=jr,an(e,0),Qt(e,r),Ze(e,Ee()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(u(345));case 2:un(e,Ye,Lt);break;case 3:if(Qt(e,r),(r&130023424)===r&&(t=So+500-Ee(),10<t)){if(Or(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){We(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Al(un.bind(null,e,Ye,Lt),t);break}un(e,Ye,Lt);break;case 4:if(Qt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-ct(r);o=1<<i,i=t[i],i>l&&(l=i),r&=~o}if(r=l,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nf(r/1960))-r,10<r){e.timeoutHandle=Al(un.bind(null,e,Ye,Lt),r);break}un(e,Ye,Lt);break;case 5:un(e,Ye,Lt);break;default:throw Error(u(329))}}}return Ze(e,Ee()),e.callbackNode===n?Du.bind(null,e):null}function Io(e,t){var n=Nr;return e.current.memoizedState.isDehydrated&&(an(e,t).flags|=256),e=Ms(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&Eo(t)),e}function Eo(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function rf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!dt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qt(e,t){for(t&=~ko,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ct(t),r=1<<n;e[n]=-1,t&=~r}}function Bu(e){if((se&6)!==0)throw Error(u(327));On();var t=Or(e,0);if((t&1)===0)return Ze(e,Ee()),null;var n=Ms(e,t);if(e.tag!==0&&n===2){var r=ll(e);r!==0&&(t=r,n=Io(e,r))}if(n===1)throw n=jr,an(e,0),Qt(e,t),Ze(e,Ee()),n;if(n===6)throw Error(u(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,Ye,Lt),Ze(e,Ee()),null}function Mo(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Bn=Ee()+500,ns&&$t())}}function on(e){Kt!==null&&Kt.tag===0&&(se&6)===0&&On();var t=se;se|=1;var n=it.transition,r=de;try{if(it.transition=null,de=1,e)return e()}finally{de=r,it.transition=n,se=t,(se&6)===0&&$t()}}function Po(){nt=Dn.current,xe(Dn)}function an(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Td(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(zl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&es();break;case 3:An(),xe(Ke),xe(ze),Jl();break;case 5:Yl(r);break;case 4:An();break;case 13:xe(ke);break;case 19:xe(ke);break;case 10:Wl(r.type._context);break;case 22:case 23:Po()}n=n.return}if(_e=e,Pe=e=Yt(e.current,null),Oe=nt=t,Ae=0,jr=null,ko=ks=ln=0,Ye=Nr=null,nn!==null){for(t=0;t<nn.length;t++)if(n=nn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=l,r.next=i}n.pending=r}nn=null}return e}function Ou(e,t){do{var n=Pe;try{if(Hl(),fs.current=gs,ms){for(var r=Se.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}ms=!1}if(sn=0,Te=Le=Se=null,hr=!1,gr=0,No.current=null,n===null||n.return===null){Ae=1,jr=t,Pe=null;break}e:{var o=e,i=n.return,d=n,f=t;if(t=Oe,d.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var w=f,A=d,T=A.tag;if((A.mode&1)===0&&(T===0||T===11||T===15)){var M=A.alternate;M?(A.updateQueue=M.updateQueue,A.memoizedState=M.memoizedState,A.lanes=M.lanes):(A.updateQueue=null,A.memoizedState=null)}var R=au(i);if(R!==null){R.flags&=-257,uu(R,i,d,o,t),R.mode&1&&iu(o,w,t),t=R,f=w;var W=t.updateQueue;if(W===null){var V=new Set;V.add(f),t.updateQueue=V}else W.add(f);break e}else{if((t&1)===0){iu(o,w,t),Lo();break e}f=Error(u(426))}}else if(je&&d.mode&1){var Me=au(i);if(Me!==null){(Me.flags&65536)===0&&(Me.flags|=256),uu(Me,i,d,o,t),$l(Tn(f,d));break e}}o=f=Tn(f,d),Ae!==4&&(Ae=2),Nr===null?Nr=[o]:Nr.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=lu(o,f,t);Aa(o,x);break e;case 1:d=f;var m=o.type,v=o.stateNode;if((o.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Vt===null||!Vt.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var D=ou(o,d,t);Aa(o,D);break e}}o=o.return}while(o!==null)}Fu(n)}catch(K){t=K,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function zu(){var e=Ns.current;return Ns.current=gs,e===null?gs:e}function Lo(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),_e===null||(ln&268435455)===0&&(ks&268435455)===0||Qt(_e,Oe)}function Ms(e,t){var n=se;se|=2;var r=zu();(_e!==e||Oe!==t)&&(Lt=null,an(e,t));do try{sf();break}catch(l){Ou(e,l)}while(!0);if(Hl(),se=n,Ns.current=r,Pe!==null)throw Error(u(261));return _e=null,Oe=0,Ae}function sf(){for(;Pe!==null;)Ru(Pe)}function lf(){for(;Pe!==null&&!Pc();)Ru(Pe)}function Ru(e){var t=Hu(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?Fu(e):Pe=t,No.current=null}function Fu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Jd(n,t,nt),n!==null){Pe=n;return}}else{if(n=qd(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Pe=null;return}}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ae===0&&(Ae=5)}function un(e,t,n){var r=de,l=it.transition;try{it.transition=null,de=1,of(e,t,n,r)}finally{it.transition=l,de=r}return null}function of(e,t,n,r){do On();while(Kt!==null);if((se&6)!==0)throw Error(u(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Fc(e,o),e===_e&&(Pe=_e=null,Oe=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Cs||(Cs=!0,Wu(Tr,function(){return On(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=it.transition,it.transition=null;var i=de;de=1;var d=se;se|=4,No.current=null,ef(e,n),Pu(n,e),bd(Pl),Fr=!!Ml,Pl=Ml=null,e.current=n,tf(n),Lc(),se=d,de=i,it.transition=o}else e.current=n;if(Cs&&(Cs=!1,Kt=e,bs=l),o=e.pendingLanes,o===0&&(Vt=null),_c(n.stateNode),Ze(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ss)throw Ss=!1,e=Co,Co=null,e;return(bs&1)!==0&&e.tag!==0&&On(),o=e.pendingLanes,(o&1)!==0?e===bo?kr++:(kr=0,bo=e):kr=0,$t(),null}function On(){if(Kt!==null){var e=Ei(bs),t=it.transition,n=de;try{if(it.transition=null,de=16>e?16:e,Kt===null)var r=!1;else{if(e=Kt,Kt=null,bs=0,(se&6)!==0)throw Error(u(331));var l=se;for(se|=4,$=e.current;$!==null;){var o=$,i=o.child;if(($.flags&16)!==0){var d=o.deletions;if(d!==null){for(var f=0;f<d.length;f++){var w=d[f];for($=w;$!==null;){var A=$;switch(A.tag){case 0:case 11:case 15:wr(8,A,o)}var T=A.child;if(T!==null)T.return=A,$=T;else for(;$!==null;){A=$;var M=A.sibling,R=A.return;if(Cu(A),A===w){$=null;break}if(M!==null){M.return=R,$=M;break}$=R}}}var W=o.alternate;if(W!==null){var V=W.child;if(V!==null){W.child=null;do{var Me=V.sibling;V.sibling=null,V=Me}while(V!==null)}}$=o}}if((o.subtreeFlags&2064)!==0&&i!==null)i.return=o,$=i;else e:for(;$!==null;){if(o=$,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:wr(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,$=x;break e}$=o.return}}var m=e.current;for($=m;$!==null;){i=$;var v=i.child;if((i.subtreeFlags&2064)!==0&&v!==null)v.return=i,$=v;else e:for(i=m;$!==null;){if(d=$,(d.flags&2048)!==0)try{switch(d.tag){case 0:case 11:case 15:js(9,d)}}catch(K){be(d,d.return,K)}if(d===i){$=null;break e}var D=d.sibling;if(D!==null){D.return=d.return,$=D;break e}$=d.return}}if(se=l,$t(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(_r,e)}catch{}r=!0}return r}finally{de=n,it.transition=t}}return!1}function $u(e,t,n){t=Tn(n,t),t=lu(e,t,1),e=Ht(e,t,1),t=We(),e!==null&&(Gn(e,1,t),Ze(e,t))}function be(e,t,n){if(e.tag===3)$u(e,e,n);else for(;t!==null;){if(t.tag===3){$u(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vt===null||!Vt.has(r))){e=Tn(n,e),e=ou(t,e,1),t=Ht(t,e,1),e=We(),t!==null&&(Gn(t,1,e),Ze(t,e));break}}t=t.return}}function af(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Oe&n)===n&&(Ae===4||Ae===3&&(Oe&130023424)===Oe&&500>Ee()-So?an(e,0):ko|=n),Ze(e,t)}function Uu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Br,Br<<=1,(Br&130023424)===0&&(Br=4194304)));var n=We();e=Et(e,t),e!==null&&(Gn(e,t,n),Ze(e,n))}function uf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Uu(e,n)}function cf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(u(314))}r!==null&&r.delete(t),Uu(e,n)}var Hu;Hu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)Qe=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Qe=!1,Zd(e,t,n);Qe=(e.flags&131072)!==0}else Qe=!1,je&&(t.flags&1048576)!==0&&Na(t,ss,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vs(e,t),e=t.pendingProps;var l=Cn(t,ze.current);Ln(t,n),l=eo(null,t,r,e,l,n);var o=to();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(r)?(o=!0,ts(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Gl(t),l.updater=ys,t.stateNode=l,l._reactInternals=t,io(t,r,e,n),t=fo(null,t,r,!0,o,n)):(t.tag=0,je&&o&&Ol(t),He(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vs(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=ff(r),e=mt(r,e),l){case 0:t=co(null,t,r,e,n);break e;case 1:t=hu(null,t,r,e,n);break e;case 11:t=cu(null,t,r,e,n);break e;case 14:t=du(null,t,r,mt(r.type,e),n);break e}throw Error(u(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:mt(r,l),co(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:mt(r,l),hu(e,t,r,l,n);case 3:e:{if(gu(t),e===null)throw Error(u(387));r=t.pendingProps,o=t.memoizedState,l=o.element,La(e,t),cs(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Tn(Error(u(423)),t),t=yu(e,t,r,n,l);break e}else if(r!==l){l=Tn(Error(u(424)),t),t=yu(e,t,r,n,l);break e}else for(tt=zt(t.stateNode.containerInfo.firstChild),et=t,je=!0,ft=null,n=Ma(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(En(),r===l){t=Pt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return _a(t),e===null&&Fl(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,i=l.children,Ll(r,l)?i=null:o!==null&&Ll(r,o)&&(t.flags|=32),pu(e,t),He(e,t,i,n),t.child;case 6:return e===null&&Fl(t),null;case 13:return xu(e,t,n);case 4:return Ql(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mn(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:mt(r,l),cu(e,t,r,l,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,i=l.value,he(is,r._currentValue),r._currentValue=i,o!==null)if(dt(o.value,i)){if(o.children===l.children&&!Ke.current){t=Pt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var d=o.dependencies;if(d!==null){i=o.child;for(var f=d.firstContext;f!==null;){if(f.context===r){if(o.tag===1){f=Mt(-1,n&-n),f.tag=2;var w=o.updateQueue;if(w!==null){w=w.shared;var A=w.pending;A===null?f.next=f:(f.next=A.next,A.next=f),w.pending=f}}o.lanes|=n,f=o.alternate,f!==null&&(f.lanes|=n),Vl(o.return,n,t),d.lanes|=n;break}f=f.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(u(341));i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Vl(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}He(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Ln(t,n),l=lt(l),r=r(l),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,l=mt(r,t.pendingProps),l=mt(r.type,l),du(e,t,r,l,n);case 15:return fu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:mt(r,l),vs(e,t),t.tag=1,Ge(r)?(e=!0,ts(t)):e=!1,Ln(t,n),ru(t,r,l),io(t,r,l,n),fo(null,t,r,!0,e,n);case 19:return wu(e,t,n);case 22:return mu(e,t,n)}throw Error(u(156,t.tag))};function Wu(e,t){return ki(e,t)}function df(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,n,r){return new df(e,t,n,r)}function Ao(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ff(e){if(typeof e=="function")return Ao(e)?1:0;if(e!=null){if(e=e.$$typeof,e===me)return 11;if(e===yt)return 14}return 2}function Yt(e,t){var n=e.alternate;return n===null?(n=at(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ps(e,t,n,r,l,o){var i=2;if(r=e,typeof e=="function")Ao(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case g:return cn(n.children,l,o,t);case k:i=8,l|=8;break;case X:return e=at(12,n,t,l|2),e.elementType=X,e.lanes=o,e;case Ue:return e=at(13,n,t,l),e.elementType=Ue,e.lanes=o,e;case ut:return e=at(19,n,t,l),e.elementType=ut,e.lanes=o,e;case Ce:return Ls(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:i=10;break e;case fe:i=9;break e;case me:i=11;break e;case yt:i=14;break e;case Ve:i=16,r=null;break e}throw Error(u(130,e==null?e:typeof e,""))}return t=at(i,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function cn(e,t,n,r){return e=at(7,e,r,t),e.lanes=n,e}function Ls(e,t,n,r){return e=at(22,e,r,t),e.elementType=Ce,e.lanes=n,e.stateNode={isHidden:!1},e}function To(e,t,n){return e=at(6,e,null,t),e.lanes=n,e}function _o(e,t,n){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mf(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Do(e,t,n,r,l,o,i,d,f){return e=new mf(e,t,n,d,f),t===1?(t=1,o===!0&&(t|=8)):t=0,o=at(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(o),e}function pf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vu(e){if(!e)return Ft;e=e._reactInternals;e:{if(Jt(e)!==e||e.tag!==1)throw Error(u(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(u(171))}if(e.tag===1){var n=e.type;if(Ge(n))return va(e,n,t)}return t}function Ku(e,t,n,r,l,o,i,d,f){return e=Do(n,r,!0,e,l,o,i,d,f),e.context=Vu(null),n=e.current,r=We(),l=Gt(n),o=Mt(r,l),o.callback=t??null,Ht(n,o,l),e.current.lanes=l,Gn(e,l,r),Ze(e,r),e}function As(e,t,n,r){var l=t.current,o=We(),i=Gt(l);return n=Vu(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ht(l,t,i),e!==null&&(gt(e,l,i,o),us(e,l,i)),i}function Ts(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Gu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bo(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}function hf(){return null}var Qu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oo(e){this._internalRoot=e}_s.prototype.render=Oo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));As(e,t,null,null)},_s.prototype.unmount=Oo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){As(null,e,null,null)}),t[St]=null}};function _s(e){this._internalRoot=e}_s.prototype.unstable_scheduleHydration=function(e){if(e){var t=Li();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&t!==0&&t<Dt[n].priority;n++);Dt.splice(n,0,e),n===0&&_i(e)}};function zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ds(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yu(){}function gf(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var w=Ts(i);o.call(w)}}var i=Ku(t,r,e,0,null,!1,!1,"",Yu);return e._reactRootContainer=i,e[St]=i.current,ir(e.nodeType===8?e.parentNode:e),on(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var d=r;r=function(){var w=Ts(f);d.call(w)}}var f=Do(e,0,!1,null,null,!1,!1,"",Yu);return e._reactRootContainer=f,e[St]=f.current,ir(e.nodeType===8?e.parentNode:e),on(function(){As(t,f,n,r)}),f}function Bs(e,t,n,r,l){var o=n._reactRootContainer;if(o){var i=o;if(typeof l=="function"){var d=l;l=function(){var f=Ts(i);d.call(f)}}As(t,i,e,l)}else i=gf(n,t,e,l,r);return Ts(i)}Mi=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kn(t.pendingLanes);n!==0&&(il(t,n|1),Ze(t,Ee()),(se&6)===0&&(Bn=Ee()+500,$t()))}break;case 13:on(function(){var r=Et(e,1);if(r!==null){var l=We();gt(r,e,1,l)}}),Bo(e,1)}},al=function(e){if(e.tag===13){var t=Et(e,134217728);if(t!==null){var n=We();gt(t,e,134217728,n)}Bo(e,134217728)}},Pi=function(e){if(e.tag===13){var t=Gt(e),n=Et(e,t);if(n!==null){var r=We();gt(n,e,t,r)}Bo(e,t)}},Li=function(){return de},Ai=function(e,t){var n=de;try{return de=e,t()}finally{de=n}},el=function(e,t,n){switch(t){case"input":if(Ks(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Xr(r);if(!l)throw Error(u(90));ni(r),Ks(r,l)}}}break;case"textarea":ii(e,n);break;case"select":t=n.value,t!=null&&mn(e,!!n.multiple,t,!1)}},gi=Mo,yi=on;var yf={usingClientEntryPoint:!1,Events:[cr,kn,Xr,pi,hi,Mo]},Sr={findFiberByHostInstance:qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xf={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ji(e),e===null?null:e.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||hf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{_r=Os.inject(xf),xt=Os}catch{}}return Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yf,Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zo(t))throw Error(u(200));return pf(e,t,null,n)},Je.createRoot=function(e,t){if(!zo(e))throw Error(u(299));var n=!1,r="",l=Qu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Do(e,1,!1,null,null,n,!1,r,l),e[St]=t.current,ir(e.nodeType===8?e.parentNode:e),new Oo(t)},Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=ji(t),e=e===null?null:e.stateNode,e},Je.flushSync=function(e){return on(e)},Je.hydrate=function(e,t,n){if(!Ds(t))throw Error(u(200));return Bs(null,e,t,!0,n)},Je.hydrateRoot=function(e,t,n){if(!zo(e))throw Error(u(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",i=Qu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Ku(t,null,e,1,n??null,l,!1,o,i),e[St]=t.current,ir(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new _s(t)},Je.render=function(e,t,n){if(!Ds(t))throw Error(u(200));return Bs(null,e,t,!1,n)},Je.unmountComponentAtNode=function(e){if(!Ds(e))throw Error(u(40));return e._reactRootContainer?(on(function(){Bs(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1},Je.unstable_batchedUpdates=Mo,Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ds(n))throw Error(u(200));if(e==null||e._reactInternals===void 0)throw Error(u(38));return Bs(e,t,n,!1,r)},Je.version="18.3.1-next-f1338f8080-20240426",Je}var rc;function bf(){if(rc)return $o.exports;rc=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(c){console.error(c)}}return a(),$o.exports=Cf(),$o.exports}var sc;function If(){if(sc)return zs;sc=1;var a=bf();return zs.createRoot=a.createRoot,zs.hydrateRoot=a.hydrateRoot,zs}var Ef=If();const Qo=(a,c)=>c.some(u=>a instanceof u);let lc,oc;function Mf(){return lc||(lc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pf(){return oc||(oc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yo=new WeakMap,Wo=new WeakMap,Us=new WeakMap;function Lf(a){const c=new Promise((u,h)=>{const p=()=>{a.removeEventListener("success",j),a.removeEventListener("error",N)},j=()=>{u(dn(a.result)),p()},N=()=>{h(a.error),p()};a.addEventListener("success",j),a.addEventListener("error",N)});return Us.set(c,a),c}function Af(a){if(Yo.has(a))return;const c=new Promise((u,h)=>{const p=()=>{a.removeEventListener("complete",j),a.removeEventListener("error",N),a.removeEventListener("abort",N)},j=()=>{u(),p()},N=()=>{h(a.error||new DOMException("AbortError","AbortError")),p()};a.addEventListener("complete",j),a.addEventListener("error",N),a.addEventListener("abort",N)});Yo.set(a,c)}let Zo={get(a,c,u){if(a instanceof IDBTransaction){if(c==="done")return Yo.get(a);if(c==="store")return u.objectStoreNames[1]?void 0:u.objectStore(u.objectStoreNames[0])}return dn(a[c])},set(a,c,u){return a[c]=u,!0},has(a,c){return a instanceof IDBTransaction&&(c==="done"||c==="store")?!0:c in a}};function gc(a){Zo=a(Zo)}function Tf(a){return Pf().includes(a)?function(...c){return a.apply(Jo(this),c),dn(this.request)}:function(...c){return dn(a.apply(Jo(this),c))}}function _f(a){return typeof a=="function"?Tf(a):(a instanceof IDBTransaction&&Af(a),Qo(a,Mf())?new Proxy(a,Zo):a)}function dn(a){if(a instanceof IDBRequest)return Lf(a);if(Wo.has(a))return Wo.get(a);const c=_f(a);return c!==a&&(Wo.set(a,c),Us.set(c,a)),c}const Jo=a=>Us.get(a);function Df(a,c,{blocked:u,upgrade:h,blocking:p,terminated:j}={}){const N=indexedDB.open(a,c),B=dn(N);return h&&N.addEventListener("upgradeneeded",b=>{h(dn(N.result),b.oldVersion,b.newVersion,dn(N.transaction),b)}),u&&N.addEventListener("blocked",b=>u(b.oldVersion,b.newVersion,b)),B.then(b=>{j&&b.addEventListener("close",()=>j()),p&&b.addEventListener("versionchange",P=>p(P.oldVersion,P.newVersion,P))}).catch(()=>{}),B}const Bf=["get","getKey","getAll","getAllKeys","count"],Of=["put","add","delete","clear"],Vo=new Map;function ic(a,c){if(!(a instanceof IDBDatabase&&!(c in a)&&typeof c=="string"))return;if(Vo.get(c))return Vo.get(c);const u=c.replace(/FromIndex$/,""),h=c!==u,p=Of.includes(u);if(!(u in(h?IDBIndex:IDBObjectStore).prototype)||!(p||Bf.includes(u)))return;const j=async function(N,...B){const b=this.transaction(N,p?"readwrite":"readonly");let P=b.store;return h&&(P=P.index(B.shift())),(await Promise.all([P[u](...B),p&&b.done]))[0]};return Vo.set(c,j),j}gc(a=>({...a,get:(c,u,h)=>ic(c,u)||a.get(c,u,h),has:(c,u)=>!!ic(c,u)||a.has(c,u)}));const zf=["continue","continuePrimaryKey","advance"],ac={},qo=new WeakMap,yc=new WeakMap,Rf={get(a,c){if(!zf.includes(c))return a[c];let u=ac[c];return u||(u=ac[c]=function(...h){qo.set(this,yc.get(this)[c](...h))}),u}};async function*Ff(...a){let c=this;if(c instanceof IDBCursor||(c=await c.openCursor(...a)),!c)return;c=c;const u=new Proxy(c,Rf);for(yc.set(u,c),Us.set(u,Jo(c));c;)yield u,c=await(qo.get(u)||c.continue()),qo.delete(u)}function uc(a,c){return c===Symbol.asyncIterator&&Qo(a,[IDBIndex,IDBObjectStore,IDBCursor])||c==="iterate"&&Qo(a,[IDBIndex,IDBObjectStore])}gc(a=>({...a,get(c,u,h){return uc(c,u)?Ff:a.get(c,u,h)},has(c,u){return uc(c,u)||a.has(c,u)}}));const $f="MemoryKeepDB",Uf=1,cc="bots",dc="memories";let Rs;const Hf=()=>Rs||(Rs=Df($f,Uf,{upgrade(a,c,u,h){console.log(`Upgrading DB from version ${c} to ${u}`),a.objectStoreNames.contains(cc)||(a.createObjectStore(cc,{keyPath:"id"}).createIndex("by-updatedAt","updatedAt"),console.log("Created bots object store")),a.objectStoreNames.contains(dc)||(a.createObjectStore(dc,{keyPath:"id"}).createIndex("by-botId-type",["botId","type"]),console.log("Created memories object store"))}}),Rs),kt=()=>Hf();class Fs{static API_BASE="https://memorykeep.cloud/api";static FALLBACK_API_KEY="anny-5555";static async getBotApiKey(c){try{const h=await(await kt()).get("bots",c);if(h?.settings?.memoryKeepApiKey)return h.settings.memoryKeepApiKey.trim()}catch(u){console.warn("Could not retrieve bot API key from IndexedDB:",u)}return this.FALLBACK_API_KEY}static async logMemory(c,u,h,p){try{const j=p||await this.getBotApiKey(c),N=await fetch(`${this.API_BASE}/log-memory`,{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({type:u,entry:h}),mode:"cors"});return N.ok?(console.log(` Logged to MemoryKeep [${u}]:`,h),{success:!0}):{success:!1,status:N.status,message:await N.text()}}catch(j){return{success:!1,message:j.message}}}static async getMemory(c,u,h){try{const p=h||await this.getBotApiKey(c),j=await fetch(`${this.API_BASE}/get-memory?type=${u}`,{method:"GET",headers:{Authorization:`Bearer ${p}`},mode:"cors"});if(!j.ok)return j.status===404||console.error("MemoryKeep get failed:",j.status,await j.text()),null;const N=await j.json();return console.log(` Retrieved from MemoryKeep [${u}]:`,N.memory),N.memory}catch{return null}}static async overwriteMemory(c,u,h,p){try{const j=p||await this.getBotApiKey(c);return(await fetch(`${this.API_BASE}/overwrite-memory`,{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({type:u,entry:h}),mode:"cors"})).ok?(console.log(` Overwrote MemoryKeep [${u}]:`,h),!0):!1}catch{return!1}}static async logExperience(c,u,h){return(await this.logMemory(c,"experience",u,h)).success}static async updateCore(c,u,h){return this.overwriteMemory(c,"core",u,h)}static async addNotebookEntry(c,u,h){return(await this.logMemory(c,"notebook",u,h)).success}static async addJobEntry(c,u,h){return(await this.logMemory(c,"job",u,h)).success}static async getAllMemories(c,u){const h={},p=["core","experience","notebook","job"];for(const j of p)h[j]=await this.getMemory(c,j,u);return h}static async testConnection(c){const u=await this.logMemory(c,"core",{status:"connection_test",timestamp:new Date().toISOString()}),h=await this.getBotApiKey(c);return u.success?{success:!0,message:` Connected to MemoryKeep Cloud with API key: ${h}`}:u.status===403?{success:!1,message:` API key not whitelisted: ${h}`}:{success:!1,message:` Connection failed: ${u.message||`Status ${u.status}`}`}}}class Ie{static STORAGE_PREFIX="memorykeep";static BOTS_KEY=`${this.STORAGE_PREFIX}_bots`;static MEMORY_KEY=`${this.STORAGE_PREFIX}_memory`;static getDefaultWidget(){return{header:{title:"Chat Support",subtitle:"We're here to help!",backgroundColor:"#3b82f6",textColor:"#ffffff",bannerImage:void 0,showBanner:!1},greeting:{message:"Hello! How can I help you today?",showOnOpen:!0},bubble:{color:"#3b82f6",icon:"",position:"bottom-right"},theme:{primaryColor:"#3b82f6",secondaryColor:"#64748b",fontFamily:"Inter, sans-serif"}}}static getDefaultSettings(){return{isActive:!0,allowedDomains:[],rateLimiting:{enabled:!1,maxRequests:100,timeWindow:3600},analytics:{enabled:!0,trackConversations:!0,trackUserActions:!0}}}static normalizeBot(c){const u=this.getDefaultWidget(),h=this.getDefaultSettings();return{id:c.id||Date.now().toString(),name:c.name||"Untitled Bot",description:c.description||"",modules:c.modules||[],widget:{header:{...u.header,...c.widget?.header||{}},greeting:{...u.greeting,...c.widget?.greeting||{}},bubble:{...u.bubble,...c.widget?.bubble||{}},theme:{...u.theme,...c.widget?.theme||{}}},settings:{...h,...c.settings||{},rateLimiting:{...h.rateLimiting,...c.settings?.rateLimiting||{}},analytics:{...h.analytics,...c.settings?.analytics||{}}},createdAt:c.createdAt||new Date().toISOString(),updatedAt:c.updatedAt||new Date().toISOString()}}static async saveBot(c){const u=await kt(),h=this.normalizeBot({...c,updatedAt:new Date().toISOString()});try{await u.put("bots",h),console.log("Bot saved locally to IndexedDB"),Fs.updateCore(h.id,{bot:h,type:"bot_config",timestamp:new Date().toISOString()}).then(p=>{p&&console.log(`Bot ${h.id} synced to cloud.`)})}catch(p){throw console.error("Failed to save bot to IndexedDB:",p),p}}static async getAllBots(){const c=await kt();try{return(await c.getAllFromIndex("bots","by-updatedAt")).map(h=>this.normalizeBot(h)).reverse()}catch(u){return console.error("Failed to load bots from IndexedDB:",u),[]}}static async getBot(c){const u=await kt();try{const h=await u.get("bots",c);return h?this.normalizeBot(h):null}catch(h){return console.error("Failed to get bot from IndexedDB:",h),null}}static async deleteBot(c){const u=await kt();try{await u.delete("bots",c),await this.deleteAllMemories(c),console.log(`Bot ${c} deleted from IndexedDB.`)}catch(h){throw console.error("Failed to delete bot from IndexedDB:",h),h}}static async saveMemory(c,u,h){const p=await kt(),j={id:`${c}-${u}-${Date.now()}`,type:u,content:h,timestamp:new Date().toISOString(),botId:c};try{await p.put("memories",j),console.log(`Memory [${u}] saved locally to IndexedDB`),Fs.logMemory(c,u,h).then(N=>{N.success&&console.log(`Memory [${u}] for bot ${c} synced to cloud.`)})}catch(N){throw console.error("Failed to save memory to IndexedDB:",N),N}}static async getMemories(c,u){const h=await kt();try{return await h.getAllFromIndex("memories","by-botId-type",[c,u])}catch(p){return console.error(`Failed to get memories [${u}] from IndexedDB:`,p),[]}}static async getAllMemories(c){try{const u=["core","experience","notebook"],h={};for(const p of u)h[p]=await this.getMemories(c,p);return h}catch(u){return console.error("Failed to get all memories from IndexedDB:",u),{}}}static async overwriteMemory(c,u,h){const p=await kt(),j=await p.getAllFromIndex("memories","by-botId-type",[c,u]),N=p.transaction("memories","readwrite");await Promise.all([...j.map(B=>N.store.delete(B.id)),N.done]),await this.saveMemory(c,u,h)}static async deleteAllMemories(c){const u=await kt();try{const h=await u.getAllFromIndex("memories","by-botId-type",IDBKeyRange.bound([c,""],[c,""])),p=u.transaction("memories","readwrite");await Promise.all([...h.map(j=>p.store.delete(j.id)),p.done]),console.log(`Deleted all memories for bot ${c} from IndexedDB.`)}catch(h){throw console.error(`Failed to delete memories for bot ${c}:`,h),h}}static async logExperience(c,u){await this.saveMemory(c,"experience",u)}static async updateCore(c,u){await this.overwriteMemory(c,"core",u)}static async addNotebookEntry(c,u){await this.saveMemory(c,"notebook",u)}static async addJobEntry(c,u){await Fs.addJobEntry(c,u)}static async migrateFromLocalStorage(){console.log("Checking for data to migrate from localStorage...");const c="memorykeep_migrated_to_idb";if(localStorage.getItem(c)){console.log("Migration already performed. Skipping.");return}const u=await kt(),h=localStorage.getItem(this.BOTS_KEY);if(h)try{const j=JSON.parse(h),N=u.transaction("bots","readwrite");await Promise.all([...j.map(B=>N.store.put(this.normalizeBot(B))),N.done]),console.log(`Migrated ${j.length} bots to IndexedDB.`),localStorage.removeItem(this.BOTS_KEY)}catch(j){console.error("Failed to migrate bots:",j)}const p=Object.keys(localStorage).filter(j=>j.startsWith(this.MEMORY_KEY));if(p.length>0){const j=u.transaction("memories","readwrite");let N=0;const B=[];for(const b of p)try{const P=JSON.parse(localStorage.getItem(b)||"[]");for(const _ of P)B.push(j.store.put(_)),N++;localStorage.removeItem(b)}catch(P){console.error(`Failed to migrate memories from key ${b}:`,P)}await Promise.all([...B,j.done]),console.log(`Migrated ${N} memory entries to IndexedDB.`)}localStorage.setItem(c,"true"),console.log("LocalStorage to IndexedDB migration complete.")}}var Wf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vf=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(a,c)=>{const u=Q.forwardRef(({color:h="currentColor",size:p=24,strokeWidth:j=2,absoluteStrokeWidth:N,className:B="",children:b,...P},_)=>Q.createElement("svg",{ref:_,...Wf,width:p,height:p,stroke:h,strokeWidth:N?Number(j)*24/Number(p):j,className:["lucide",`lucide-${Vf(a)}`,B].join(" "),...P},[...c.map(([C,E])=>Q.createElement(C,E)),...Array.isArray(b)?b:[b]]));return u.displayName=`${a}`,u};const fc=le("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Kf=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const mc=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Gf=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const pc=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Qf=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const xc=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Ko=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Yf=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Zf=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Jf=le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const qf=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Xf=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const em=le("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const tm=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const nm=le("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const rm=le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const Hs=le("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const sm=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const hc=le("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const fn=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const lm=le("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);const Xo=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const vc=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const wc=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Ws=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const om=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const im=le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const Rn=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const zn=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const am=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const um=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const $s=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cm=({module:a,botId:c})=>{const[u,h]=Q.useState(null),[p,j]=Q.useState(""),B=(a.config.questions||[]).filter(P=>P.question.toLowerCase().includes(p.toLowerCase())||P.answer.toLowerCase().includes(p.toLowerCase())),b=async P=>{h(u===P.id?null:P.id),await Ie.logExperience(c,{type:"faq_interaction",question:P.question,timestamp:new Date().toISOString()})};return s.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-gray-600",children:"Find answers to common questions below."})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(vc,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search questions...",value:p,onChange:P=>j(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})}),s.jsx("div",{className:"space-y-4",children:B.map(P=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("button",{onClick:()=>b(P),className:"w-full px-6 py-4 text-left hover:bg-gray-50 focus:outline-none focus:bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:P.question}),u===P.id?s.jsx(Qf,{className:"h-5 w-5 text-gray-500"}):s.jsx(Gf,{className:"h-5 w-5 text-gray-500"})]})}),u===P.id&&s.jsx("div",{className:"px-6 pb-4",children:s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:P.answer})})})]},P.id))}),B.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500",children:p?"No questions match your search.":"No FAQ questions configured yet."})})]})},dm=({config:a,onConfigUpdate:c})=>{const[u,h]=Q.useState(null),[p,j]=Q.useState({question:"",answer:""}),N=a.questions||[],B=()=>{if(!p.question.trim()||!p.answer.trim())return;const _=[...N,{id:Date.now().toString(),question:p.question.trim(),answer:p.answer.trim()}];c({...a,questions:_}),j({question:"",answer:""})},b=(_,C)=>{const E=N.map(I=>I.id===_?{...I,...C}:I);c({...a,questions:E}),h(null)},P=_=>{const C=N.filter(E=>E.id!==_);c({...a,questions:C})};return s.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"FAQ Configuration"})}),s.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2",children:N.map(_=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:u===_.id?s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:_.question,onChange:C=>b(_.id,{question:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Question"}),s.jsx("textarea",{value:_.answer,onChange:C=>b(_.id,{answer:C.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Answer"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>h(null),className:"px-3 py-1 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Save"}),s.jsx("button",{onClick:()=>h(null),className:"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"})]})]}):s.jsx("div",{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:_.question}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_.answer})]}),s.jsxs("div",{className:"flex space-x-1 ml-4",children:[s.jsx("button",{onClick:()=>h(_.id),className:"p-1 text-gray-400 hover:text-gray-600",children:s.jsx(Hs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>P(_.id),className:"p-1 text-gray-400 hover:text-red-600",children:s.jsx(Rn,{className:"w-4 h-4"})})]})]})})},_.id))}),s.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Add New Question"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:p.question,onChange:_=>j({...p,question:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter question..."}),s.jsx("textarea",{value:p.answer,onChange:_=>j({...p,answer:_.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter answer..."}),s.jsxs("button",{onClick:B,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:[s.jsx(fn,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Question"})]})]})]})]})};class Ir{static getApiUrl(){return`${window.location.origin}/api/leads`}static isNetlifyDeployment(){return window.location.hostname.includes("netlify.app")||window.location.hostname.includes("netlify.live")||window.location.port==="8888"}static async saveLead(c,u,h="chat_widget"){if(this.isNetlifyDeployment())try{const p=await fetch(`${this.getApiUrl()}?botId=${c}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({botId:c,data:u,source:h})});if(p.ok){const j=await p.json();return console.log(" Lead saved to Netlify Blobs:",j),j}else console.warn("Netlify function returned error:",p.status)}catch(p){console.warn("Could not save to Netlify, falling back to local storage:",p)}try{const p=this.getLocalLeads(c),j={id:`lead-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,botId:c,data:u,timestamp:new Date().toISOString(),source:h};return p.push(j),localStorage.setItem(`leads-${c}`,JSON.stringify(p)),console.log(" Lead saved to localStorage:",j),{success:!0,leadId:j.id,totalLeads:p.length}}catch(p){return console.error("Failed to save lead:",p),{success:!1,error:p.message}}}static async getLeads(c){if(this.isNetlifyDeployment())try{const h=await fetch(`${this.getApiUrl()}?botId=${c}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(h.ok){const p=await h.json();return console.log(" Leads retrieved from Netlify Blobs:",p),p}}catch(h){console.warn("Could not fetch from Netlify, falling back to local storage:",h)}const u=this.getLocalLeads(c);return{success:!0,leads:u,count:u.length}}static formatLeadsForChat(c){if(c.length===0)return` **No leads collected yet.**

Leads will appear here when visitors submit the lead capture form.`;let u=` **Collected Leads (${c.length} total)**

`;return c.slice(-10).reverse().forEach((h,p)=>{const j=new Date(h.timestamp).toLocaleString();u+=`**Lead #${c.length-p}** - ${j}
`,Object.entries(h.data).forEach(([N,B])=>{u+=` ${N}: ${B}
`}),u+=`
`}),c.length>10&&(u+=`
_Showing last 10 of ${c.length} leads._`),u}static exportAsCSV(c){if(c.length===0)return"";const u=new Set;c.forEach(j=>{Object.keys(j.data).forEach(N=>u.add(N))});const h=["timestamp",...Array.from(u)];let p=h.join(",")+`
`;return c.forEach(j=>{const N=h.map(B=>B==="timestamp"?j.timestamp:`"${(j.data[B]||"").replace(/"/g,'""')}"`);p+=N.join(",")+`
`}),p}static downloadCSV(c,u){const h=this.exportAsCSV(u),p=new Blob([h],{type:"text/csv"}),j=URL.createObjectURL(p),N=document.createElement("a");N.href=j,N.download=`leads-${c}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(j)}static getLocalLeads(c){try{const u=localStorage.getItem(`leads-${c}`);return u?JSON.parse(u):[]}catch{return[]}}}const jc=({module:a,botId:c})=>{const[u,h]=Q.useState({}),[p,j]=Q.useState(!1),[N,B]=Q.useState(!1),b=a.config.fields||[],P=a.config.successMessage||"Thank you for your information!",_=a.config.triggerMessage||"Please fill out the form below:",C=(S,F)=>{h(G=>({...G,[S]:F}))},E=async S=>{S.preventDefault(),B(!0);try{const F=await Ir.saveLead(c,u,"chat_widget");F.success?(console.log("Lead saved successfully:",F),j(!0)):console.error("Failed to save lead:",F.error)}catch(F){console.error("Failed to save lead:",F)}finally{B(!1)}},I=S=>{switch(S){case"email":return s.jsx(tm,{className:"w-4 h-4"});case"tel":return s.jsx(sm,{className:"w-4 h-4"});default:return s.jsx(am,{className:"w-4 h-4"})}};return p?s.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[s.jsx(Kf,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thank You!"}),s.jsx("p",{className:"text-gray-600",children:P})]}):s.jsxs("div",{className:"max-w-md mx-auto p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Get In Touch"}),s.jsx("p",{className:"text-gray-600",children:_})]}),s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[b.map(S=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[S.label,S.required&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:I(S.type)}),s.jsx("input",{type:S.type,name:S.name,value:u[S.name]||"",onChange:F=>C(S.name,F.target.value),required:S.required,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:S.type==="email"?"Enter your email address":S.type==="tel"?"Enter your phone number":"Enter text"})]})]},S.name)),s.jsx("button",{type:"submit",disabled:N,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 text-white bg-indigo-600 border border-transparent rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-50",children:N?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),s.jsx("span",{children:"Submitting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(wc,{className:"w-4 h-4"}),s.jsx("span",{children:"Submit"})]})})]})]})},fm=({config:a,onConfigUpdate:c})=>{const[u,h]=Q.useState({name:"",label:"",type:"text",required:!1}),p=a.fields||[],j=()=>{if(!u.name.trim()||!u.label.trim()){alert("Please enter both Field Name and Field Label");return}const b=[...p,{...u,name:u.name.trim().toLowerCase().replace(/\s+/g,"_")}];c({...a,fields:b}),h({name:"",label:"",type:"text",required:!1})},N=(b,P)=>{const _=p.map((C,E)=>E===b?{...C,...P}:C);c({...a,fields:_})},B=b=>{const P=p.filter((_,C)=>C!==b);c({...a,fields:P})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Lead Capture Configuration"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Message"}),s.jsx("input",{type:"text",value:a.triggerMessage||"",onChange:b=>c({...a,triggerMessage:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Message to show above the form"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Success Message"}),s.jsx("input",{type:"text",value:a.successMessage||"",onChange:b=>c({...a,successMessage:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Message to show after successful submission"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Keywords"}),s.jsx("input",{type:"text",defaultValue:(a.triggerKeywords||[]).join(", "),onBlur:b=>c({...a,triggerKeywords:b.target.value.split(",").map(P=>P.trim().toLowerCase()).filter(P=>P)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"contact, interested, demo, quote"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Comma-separated keywords that trigger the lead form (e.g., "contact, demo, pricing")'})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Form Fields"}),s.jsx("div",{className:"space-y-3",children:p.map((b,P)=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Name"}),s.jsx("input",{type:"text",value:b.name,onChange:_=>N(P,{name:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),s.jsx("input",{type:"text",value:b.label,onChange:_=>N(P,{label:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsxs("select",{value:b.type,onChange:_=>N(P,{type:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"text",children:"Text"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"tel",children:"Phone"}),s.jsx("option",{value:"number",children:"Number"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:b.required,onChange:_=>N(P,{required:_.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Required"})]}),s.jsx("button",{onClick:()=>B(P),className:"text-red-500 hover:text-red-700 text-sm",children:"Delete"})]})]})},P))})]}),s.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Add New Field"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("div",{children:s.jsx("input",{type:"text",value:u.name,onChange:b=>h({...u,name:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Field name"})}),s.jsx("div",{children:s.jsx("input",{type:"text",value:u.label,onChange:b=>h({...u,label:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Field label"})}),s.jsx("div",{children:s.jsxs("select",{value:u.type,onChange:b=>h({...u,type:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"text",children:"Text"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"tel",children:"Phone"}),s.jsx("option",{value:"number",children:"Number"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:u.required,onChange:b=>h({...u,required:b.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Required"})]}),s.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Add Field"})]})]})]})]})},mm=({module:a,botId:c})=>{const[u,h]=Q.useState(""),[p,j]=Q.useState(""),[N,B]=Q.useState(null),b=a.config.articles||[],P=a.config.categories||[],_=a.config.searchEnabled!==!1,C=b.filter(I=>{const S=!u||I.title.toLowerCase().includes(u.toLowerCase())||I.content.toLowerCase().includes(u.toLowerCase())||I.tags.some(G=>G.toLowerCase().includes(u.toLowerCase())),F=!p||I.category===p;return S&&F}),E=async I=>{B(I),await Ie.logExperience(c,{type:"knowledge_base_access",article:I.title,timestamp:new Date().toISOString()})};return N?s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>B(null),className:"flex items-center space-x-2 text-indigo-600 hover:text-indigo-800 mb-4",children:[s.jsx(pc,{className:"w-4 h-4 transform rotate-180"}),s.jsx("span",{children:"Back to articles"})]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:N.title}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:N.tags.map(I=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:[s.jsx(im,{className:"w-3 h-3 mr-1"}),I]},I))})]}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("div",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:N.content})})]}):s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Knowledge Base"}),s.jsx("p",{className:"text-gray-600",children:"Browse our collection of helpful articles and guides."})]}),s.jsxs("div",{className:"mb-6 space-y-4",children:[_&&s.jsxs("div",{className:"relative",children:[s.jsx(vc,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search articles...",value:u,onChange:I=>h(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),P.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>j(""),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${p?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-indigo-600 text-white"}`,children:"All Categories"}),P.map(I=>s.jsx("button",{onClick:()=>j(I),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${p===I?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:I},I))]})]}),s.jsx("div",{className:"space-y-4",children:C.map(I=>s.jsx("div",{onClick:()=>E(I),className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(fc,{className:"w-6 h-6 text-indigo-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:I.title}),s.jsxs("p",{className:"text-gray-600 mb-3 line-clamp-3",children:[I.content.substring(0,150),"..."]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[I.tags.slice(0,3).map(S=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:S},S)),I.tags.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",I.tags.length-3," more"]})]})]})]}),s.jsx(pc,{className:"w-5 h-5 text-gray-400"})]})},I.id))}),C.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(fc,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("div",{className:"text-gray-500",children:u||p?"No articles match your search criteria.":"No articles configured yet."})]})]})},pm=({config:a,onConfigUpdate:c})=>{const[u,h]=Q.useState(null),[p,j]=Q.useState({title:"",content:"",tags:"",category:""}),N=a.articles||[],B=a.categories||[],b=()=>{if(!p.title.trim()||!p.content.trim())return;const C={id:Date.now().toString(),title:p.title.trim(),content:p.content.trim(),tags:p.tags.split(",").map(E=>E.trim()).filter(E=>E),category:p.category||void 0};c({...a,articles:[...N,C]}),j({title:"",content:"",tags:"",category:""})},P=(C,E)=>{const I=N.map(S=>S.id===C?{...S,...E}:S);c({...a,articles:I}),h(null)},_=C=>{const E=N.filter(I=>I.id!==C);c({...a,articles:E})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Base Configuration"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.searchEnabled!==!1,onChange:C=>c({...a,searchEnabled:C.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enable search"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories (comma-separated)"}),s.jsx("input",{type:"text",value:B.join(", "),onChange:C=>c({...a,categories:C.target.value.split(",").map(E=>E.trim()).filter(E=>E)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"General, Technical, FAQ"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Articles"}),s.jsx("div",{className:"space-y-4",children:N.map(C=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:u===C.id?s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:C.title,onChange:E=>P(C.id,{title:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Article title"}),s.jsx("textarea",{value:C.content,onChange:E=>P(C.id,{content:E.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Article content"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"text",value:C.tags.join(", "),onChange:E=>P(C.id,{tags:E.target.value.split(",").map(I=>I.trim()).filter(I=>I)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Tags (comma-separated)"}),s.jsxs("select",{value:C.category||"",onChange:E=>P(C.id,{category:E.target.value||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"",children:"No category"}),B.map(E=>s.jsx("option",{value:E,children:E},E))]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>h(null),className:"px-3 py-1 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Save"}),s.jsx("button",{onClick:()=>h(null),className:"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"})]})]}):s.jsx("div",{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:C.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:C.content}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:C.tags.map(E=>s.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-indigo-100 text-indigo-800 rounded",children:E},E))})]}),s.jsxs("div",{className:"flex space-x-1 ml-4",children:[s.jsx("button",{onClick:()=>h(C.id),className:"p-1 text-gray-400 hover:text-gray-600",children:s.jsx(Hs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>_(C.id),className:"p-1 text-gray-400 hover:text-red-600",children:s.jsx(Rn,{className:"w-4 h-4"})})]})]})})},C.id))})]}),s.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Add New Article"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:p.title,onChange:C=>j({...p,title:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Article title"}),s.jsx("textarea",{value:p.content,onChange:C=>j({...p,content:C.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Article content"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"text",value:p.tags,onChange:C=>j({...p,tags:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Tags (comma-separated)"}),s.jsxs("select",{value:p.category,onChange:C=>j({...p,category:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"",children:"No category"}),B.map(C=>s.jsx("option",{value:C,children:C},C))]})]}),s.jsxs("button",{type:"button",onClick:b,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:[s.jsx(fn,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Article"})]})]})]})]})},hm=({module:a,botId:c})=>{const u=a.config.message||"Hello, World!",h=a.config.showTimestamp!==!1,p=async()=>{await Ie.logExperience(c,{type:"hello_world_interaction",message:u,timestamp:new Date().toISOString()})};return s.jsxs("div",{className:"max-w-md mx-auto p-6 text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Xf,{className:"w-16 h-16 text-indigo-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Hello World Module"}),s.jsx("p",{className:"text-gray-600",children:"This is an example module for developers"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-6 rounded-lg",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:u}),h&&s.jsx("p",{className:"text-indigo-100 text-sm",children:new Date().toLocaleString()})]}),s.jsx("button",{onClick:p,className:"mt-4 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Log Interaction"}),s.jsxs("div",{className:"mt-6 text-left bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Developer Notes:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" This module demonstrates the basic structure"}),s.jsx("li",{children:" It uses the memory system to log interactions"}),s.jsx("li",{children:" Configuration is handled through the config panel"}),s.jsx("li",{children:" You can extend this pattern for complex modules"})]})]})]})},gm=({config:a,onConfigUpdate:c})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Hello World Configuration"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This is an example configuration panel. Use this pattern to create settings for your custom modules."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),s.jsx("input",{type:"text",value:a.message||"",onChange:u=>c({...a,message:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter your message"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.showTimestamp!==!1,onChange:u=>c({...a,showTimestamp:u.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show timestamp"})]})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Development Guide"}),s.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"Creating a new module:"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[s.jsx("li",{children:"Create a new folder in src/modules/"}),s.jsx("li",{children:"Create YourModule.tsx with component and config"}),s.jsx("li",{children:"Register it in moduleRegistry.ts"}),s.jsx("li",{children:"Your module will appear in the library"})]}),s.jsx("p",{className:"mt-3",children:s.jsx("strong",{children:"Key patterns:"})}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Use MemorySystem for data persistence"}),s.jsx("li",{children:"Accept module and botId as props"}),s.jsx("li",{children:"Create separate config component"}),s.jsx("li",{children:"Log interactions for analytics"})]})]})]})]});class ym{modules=new Map;constructor(){this.registerDefaultModules()}registerDefaultModules(){this.registerModule({type:"faq",name:"FAQ",description:"Frequently Asked Questions with automated responses",icon:"",defaultConfig:{questions:[{question:"What are your business hours?",answer:"We are open Monday through Friday, 9 AM to 6 PM."}]},component:cm,configComponent:dm}),this.registerModule({type:"lead-capture",name:"Lead Capture",description:"Collect visitor information and generate leads",icon:"",defaultConfig:{fields:[{name:"name",label:"Name",type:"text",required:!0},{name:"email",label:"Email",type:"email",required:!0},{name:"phone",label:"Phone",type:"tel",required:!1}],successMessage:"Thank you! We will get back to you soon.",triggerMessage:"Interested in learning more? Leave your details below!",triggerKeywords:["contact","interested","demo","quote","pricing","sign up","get started"]},component:jc,configComponent:fm}),this.registerModule({type:"knowledge-base",name:"Knowledge Base",description:"Searchable knowledge base with articles and answers",icon:"",defaultConfig:{articles:[{title:"Getting Started",content:"Welcome to our service! Here is how to get started...",tags:["tutorial","beginner"]}],searchEnabled:!0,categories:["General","Technical","Billing"]},component:mm,configComponent:pm}),this.registerModule({type:"hello-world",name:"Hello World",description:"Example module for developers to learn from",icon:"",defaultConfig:{message:"Hello, World!",showTimestamp:!0},component:hm,configComponent:gm})}registerModule(c){this.modules.set(c.type,c)}getModule(c){return this.modules.get(c)}getAllModules(){return Array.from(this.modules.values())}unregisterModule(c){this.modules.delete(c)}}const ei=new ym,xm=({onModuleAdd:a})=>{const c=ei.getAllModules();return s.jsxs("div",{className:"w-80 bg-white shadow-lg border-r",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Module Library"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Drag modules to the canvas or click to add"})]}),s.jsx("div",{className:"p-4 space-y-3",children:c.map(u=>s.jsx("div",{className:"group p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-indigo-300 hover:bg-indigo-50 transition-all cursor-pointer",onClick:()=>a(u.type),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"text-2xl",children:u.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:u.name}),s.jsx("p",{className:"text-sm text-gray-500",children:u.description})]})]}),s.jsx(fn,{className:"w-5 h-5 text-gray-400 group-hover:text-indigo-500 transition-colors"})]})},u.type))}),s.jsxs("div",{className:"p-4 border-t bg-gray-50",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Need More Modules?"}),s.jsx("p",{className:"text-sm text-gray-600",children:"The system is designed to be extensible. Check the documentation for examples of how to add custom modules."})]})]})},vm=({modules:a,onModuleUpdate:c,onModuleDelete:u})=>{const[h,p]=Q.useState(null),[j,N]=Q.useState(!1),B=E=>{p(E),N(!0)},b=(E,I)=>{c(E,{config:I})},P=(E,I)=>{c(E,{enabled:I})},_=a.find(E=>E.id===h),C=_?ei.getModule(_.type):null;return s.jsxs("div",{className:"flex-1 flex",children:[s.jsx("div",{className:"flex-1 bg-gray-50 relative overflow-auto",children:s.jsx("div",{className:"absolute inset-0 p-6",children:a.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ws,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Modules Added"}),s.jsx("p",{className:"text-gray-500",children:"Add modules from the library to start building your bot"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(E=>{const I=ei.getModule(E.type);return I?s.jsx("div",{className:`bg-white rounded-lg shadow-md border-2 transition-all cursor-pointer ${h===E.id?"border-indigo-500 ring-2 ring-indigo-200":"border-gray-200 hover:border-gray-300"} ${E.enabled?"":"opacity-50"}`,onClick:()=>B(E.id),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"text-2xl",children:I.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:I.name}),s.jsx("p",{className:"text-sm text-gray-500",children:I.description})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:S=>{S.stopPropagation(),P(E.id,!E.enabled)},className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:E.enabled?s.jsx(qf,{className:"w-4 h-4"}):s.jsx(Jf,{className:"w-4 h-4"})}),s.jsx("button",{onClick:S=>{S.stopPropagation(),u(E.id)},className:"p-1 text-gray-400 hover:text-red-600 rounded",children:s.jsx(Rn,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:`font-medium ${E.enabled?"text-green-600":"text-gray-400"}`,children:E.enabled?"Enabled":"Disabled"})]})})]})},E.id):null})})})}),j&&_&&C&&s.jsxs("div",{className:"w-96 bg-white shadow-lg border-l",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Configure ",C.name]}),s.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:""})]})}),s.jsx("div",{className:"p-4",children:s.jsx(C.configComponent,{config:_.config,onConfigUpdate:E=>b(_.id,E)})})]})]})};class wm{static API_BASE="https://generativelanguage.googleapis.com/v1beta";static MODELS=[{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash (Fast & Smart)"},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash (Fast)"},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro (Most Capable)"}];static convertToGeminiFormat(c,u){const h=[];for(const p of c)h.push({role:p.role==="assistant"?"model":"user",parts:[{text:p.content}]});return h.push({role:"user",parts:[{text:u}]}),h}static async chat(c,u,h,p){const j=p.model||"gemini-2.0-flash",N=`${this.API_BASE}/models/${j}:generateContent?key=${p.apiKey}`,B=this.convertToGeminiFormat(h,c),b={contents:B,systemInstruction:{parts:[{text:u||"You are a helpful AI assistant. Be concise, friendly, and professional."}]},generationConfig:{temperature:p.temperature??.7,maxOutputTokens:p.maxTokens??1e3}};console.log("Making Gemini API call:",{url:N.replace(p.apiKey,"***"),model:j,messageCount:B.length});const P=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(console.log("Gemini response status:",P.status),!P.ok){const E=await P.text();if(console.error("Gemini API error:",E),P.status===400)try{const I=JSON.parse(E);throw new Error(`Gemini Error: ${I.error?.message||E}`)}catch{throw new Error(`Gemini Error (400): ${E}`)}else throw P.status===401||P.status===403?new Error("Invalid API key. Please check your Gemini API key in AI Settings."):P.status===429?new Error("Rate limit exceeded. Please wait a moment and try again."):new Error(`Gemini API Error ${P.status}: ${E}`)}const _=await P.json();if(console.log("Gemini response data:",_),!_.candidates||_.candidates.length===0)throw new Error("No response from Gemini model");const C=_.candidates[0];if(C.finishReason==="SAFETY")throw new Error("Response was blocked due to safety filters.");if(!C.content?.parts?.[0]?.text)throw new Error("Empty response from Gemini model");return C.content.parts[0].text}static async testConnection(c){try{return{success:!0,message:` Gemini API connected! Response: "${(await this.chat('Say "Hello" in one word.',"You are a test bot. Respond with just one word.",[],{apiKey:c,model:"gemini-2.0-flash",maxTokens:10})).substring(0,50)}"`}}catch(u){return{success:!1,message:` ${u.message}`}}}}const Nc=({bot:a,preview:c=!1})=>{const[u,h]=Q.useState(!1),[p,j]=Q.useState([]),[N,B]=Q.useState(""),[b,P]=Q.useState(!1),[_,C]=Q.useState([]),[E,I]=Q.useState(null),S=Q.useRef(null),F=()=>{S.current?.scrollIntoView({behavior:"smooth"})};Q.useEffect(()=>{F()},[p,b]),Q.useEffect(()=>{u&&a.widget.greeting.showOnOpen&&p.length===0&&j([{text:a.widget.greeting.message,sender:"bot",timestamp:new Date}])},[u,a.widget.greeting.showOnOpen,a.widget.greeting.message]);const G=async()=>{if(!N.trim()||b)return;const U={text:N,sender:"user",timestamp:new Date};j(k=>[...k,U]);const g=N;B(""),P(!0);try{const X={text:await ue(g),sender:"bot",timestamp:new Date};j(z=>[...z,X])}catch(k){console.error("Error processing message:",k);const X={text:"I'm sorry, I'm having trouble responding right now. Please try again.",sender:"bot",timestamp:new Date};j(z=>[...z,X])}finally{P(!1)}},ue=async U=>{if(U.toLowerCase().trim()==="/help")return` **Admin Commands**

**/leads** - View all collected leads
**/exportleads** - Download leads as CSV file
**/help** - Show this help message

_These commands are for bot owners to manage lead data._`;if(U.toLowerCase().trim()==="/leads")try{const z=await Ir.getLeads(a.id);return z.success&&z.leads?Ir.formatLeadsForChat(z.leads):" Could not retrieve leads: "+(z.error||"Unknown error")}catch(z){return" Error retrieving leads: "+z.message}if(U.toLowerCase().trim()==="/exportleads")try{const z=await Ir.getLeads(a.id);return z.success&&z.leads&&z.leads.length>0?(Ir.downloadCSV(a.id,z.leads),` **Downloading ${z.leads.length} leads as CSV...**

The file should start downloading automatically. If not, check your browser's download settings.`):z.leads?.length===0?" No leads to export yet.":" Could not retrieve leads for export."}catch(z){return" Error exporting leads: "+z.message}await Ie.logExperience(a.id,{type:"user_message",message:U,timestamp:new Date().toISOString(),source:"chat_widget"});const g=a.modules.find(z=>z.type==="faq"&&z.enabled);if(g&&g.config.questions){const z=U.toLowerCase(),fe=g.config.questions.find(me=>z.includes(me.question.toLowerCase())||me.question.toLowerCase().includes(z));if(fe)return await Ie.logExperience(a.id,{type:"faq_interaction",question:fe.question,answer:fe.answer,timestamp:new Date().toISOString()}),fe.answer}const k=a.modules.find(z=>z.type==="lead-capture"&&z.enabled);if(k){const z=U.toLowerCase();if((k.config.triggerKeywords||["contact","interested","demo","quote","pricing"]).some(Ue=>z.includes(Ue.toLowerCase())))return I(k),setTimeout(()=>F(),100),k.config.triggerMessage||"Please fill out the form below to get in touch with us!"}const X=a.settings.aiProvider||"openrouter";if(X==="gemini"&&a.settings.geminiApiKey?.trim())try{const z=await ge(U);try{await Ie.logExperience(a.id,{type:"ai_interaction",provider:"gemini",user_message:U,ai_response:z,model:a.settings.model,timestamp:new Date().toISOString()})}catch(fe){console.warn("Failed to log to MemoryKeep Cloud:",fe)}return z}catch(z){return console.error("Gemini error:",z),`I'm having trouble connecting to Gemini. ${z.message}`}if(X==="openrouter"&&a.settings.openRouterApiKey?.trim())try{const z=await ve(U);try{await Ie.logExperience(a.id,{type:"ai_interaction",provider:"openrouter",user_message:U,ai_response:z,model:a.settings.model,timestamp:new Date().toISOString()})}catch(fe){console.warn("Failed to log to MemoryKeep Cloud:",fe)}return z}catch(z){return console.error("OpenRouter error:",z),`I'm having trouble connecting to OpenRouter. ${z.message}`}return"Thanks for your message! Please configure an AI provider (Gemini or OpenRouter) in AI Settings to enable AI responses."},ge=async U=>{const g=await wm.chat(U,a.settings.systemPrompt||"You are a helpful AI assistant. Be concise, friendly, and professional.",_,{apiKey:a.settings.geminiApiKey,model:a.settings.model||"gemini-2.0-flash",temperature:a.settings.temperature,maxTokens:a.settings.maxTokens});return C(k=>[...k,{role:"user",content:U},{role:"assistant",content:g}].slice(-20)),g},ve=async U=>{const g=[{role:"system",content:a.settings.systemPrompt||"You are a helpful AI assistant. Be concise, friendly, and professional."},..._,{role:"user",content:U}],k={model:a.settings.model||"anthropic/claude-3-haiku",messages:g,max_tokens:a.settings.maxTokens||1e3,temperature:a.settings.temperature||.7,stream:!1};console.log("Making OpenRouter API call:",{url:"https://openrouter.ai/api/v1/chat/completions",model:k.model,messageCount:g.length});const X=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${a.settings.openRouterApiKey}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":a.name||"MemoryKeep Chat Bot"},body:JSON.stringify(k)});if(console.log("OpenRouter response status:",X.status),!X.ok){const me=await X.text();throw console.error("OpenRouter API error:",me),X.status===401?new Error("Invalid API key. Please check your OpenRouter API key in AI Settings."):X.status===429?new Error("Rate limit exceeded. Please wait a moment and try again."):X.status===402?new Error("Insufficient credits. Please add credits to your OpenRouter account."):new Error(`API Error ${X.status}: ${me}`)}const z=await X.json();if(console.log("OpenRouter response data:",z),!z.choices||z.choices.length===0)throw new Error("No response from AI model");const fe=z.choices[0].message.content;return C(me=>[...me,{role:"user",content:U},{role:"assistant",content:fe}].slice(-20)),fe},re=()=>{const{position:U}=a.widget.bubble,g=c?"absolute":"fixed";switch(U){case"bottom-right":return`${g} bottom-4 right-4 z-50`;case"bottom-left":return`${g} bottom-4 left-4 z-50`;case"top-right":return`${g} top-4 right-4 z-50`;case"top-left":return`${g} top-4 left-4 z-50`;default:return`${g} bottom-4 right-4 z-50`}},Ne=()=>{const{position:U}=a.widget.bubble,g=c?"absolute":"fixed";switch(U){case"bottom-right":return`${g} bottom-20 right-4 z-50`;case"bottom-left":return`${g} bottom-20 left-4 z-50`;case"top-right":return`${g} top-20 right-4 z-50`;case"top-left":return`${g} top-20 left-4 z-50`;default:return`${g} bottom-20 right-4 z-50`}};return s.jsxs("div",{style:{fontFamily:a.widget.theme.fontFamily,"--primary-color":a.widget.theme.primaryColor,"--secondary-color":a.widget.theme.secondaryColor},children:[s.jsx("div",{className:re(),children:s.jsx("button",{onClick:()=>h(!u),className:"w-14 h-14 rounded-full shadow-lg flex items-center justify-center text-white font-bold transition-all duration-200 hover:scale-110 text-xl",style:{backgroundColor:a.widget.bubble.color},children:a.widget.bubble.icon})}),u&&s.jsxs("div",{className:`${Ne()} w-80 h-96 bg-white rounded-lg shadow-xl border flex flex-col`,children:[s.jsxs("div",{className:"p-4 rounded-t-lg flex items-center justify-between flex-shrink-0",style:{backgroundColor:a.widget.header.backgroundColor,color:a.widget.header.textColor},children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[a.widget.header.bannerImage&&a.widget.header.showBanner&&s.jsx("img",{src:a.widget.header.bannerImage,alt:"Banner",className:"h-8 w-full object-cover rounded"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:a.widget.header.title}),a.widget.header.subtitle&&s.jsx("div",{className:"text-sm opacity-90 truncate",children:a.widget.header.subtitle})]})]}),s.jsx("button",{onClick:()=>h(!1),className:"hover:opacity-75 ml-2 flex-shrink-0 transition-opacity",style:{color:a.widget.header.textColor},children:s.jsx($s,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 p-4 overflow-y-auto bg-gray-50 min-h-0",children:p.length===0?s.jsx("div",{className:"text-center text-gray-500 mt-8",children:s.jsx("p",{children:"Start a conversation!"})}):s.jsxs("div",{className:"space-y-3",children:[p.map((U,g)=>{const k=a.widget.avatars,X=k?.showAvatars!==!1,z=U.sender==="bot"?k?.bot:k?.user,fe=!z||z.type==="emoji",me=z?.value||(U.sender==="bot"?"":"");return s.jsxs("div",{className:`flex items-end gap-2 ${U.sender==="user"?"justify-end":"justify-start"}`,children:[U.sender==="bot"&&X&&s.jsx("div",{className:"w-7 h-7 rounded-full bg-white border border-gray-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:fe?s.jsx("span",{className:"text-sm",children:me}):s.jsx("img",{src:me,alt:"Bot",className:"w-full h-full object-cover"})}),s.jsx("div",{className:`max-w-xs px-3 py-2 rounded-lg text-sm ${U.sender==="user"?"text-white":"bg-white text-gray-800 border border-gray-200"}`,style:U.sender==="user"?{backgroundColor:a.widget.theme.primaryColor}:{},children:s.jsx("div",{dangerouslySetInnerHTML:{__html:U.text.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br>")}})}),U.sender==="user"&&X&&s.jsx("div",{className:"w-7 h-7 rounded-full bg-white border border-gray-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:fe?s.jsx("span",{className:"text-sm",children:me}):s.jsx("img",{src:me,alt:"User",className:"w-full h-full object-cover"})})]},g)}),b&&s.jsxs("div",{className:"flex items-end gap-2 justify-start",children:[a.widget.avatars?.showAvatars!==!1&&s.jsx("div",{className:"w-7 h-7 rounded-full bg-white border border-gray-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:!a.widget.avatars?.bot||a.widget.avatars.bot.type==="emoji"?s.jsx("span",{className:"text-sm",children:a.widget.avatars?.bot?.value||""}):s.jsx("img",{src:a.widget.avatars.bot.value,alt:"Bot",className:"w-full h-full object-cover"})}),s.jsx("div",{className:"bg-white text-gray-800 border border-gray-200 px-3 py-2 rounded-lg text-sm",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),E&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mt-2 shadow-sm",children:[s.jsx(jc,{module:E,botId:a.id}),s.jsx("button",{onClick:()=>I(null),className:"mt-2 text-xs text-gray-500 hover:text-gray-700 underline",children:"Close form"})]}),s.jsx("div",{ref:S})]})}),s.jsx("div",{className:"p-4 border-t bg-white rounded-b-lg flex-shrink-0",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:N,onChange:U=>B(U.target.value),onKeyPress:U=>U.key==="Enter"&&G(),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-colors",style:{borderColor:"#e5e7eb"},onFocus:U=>{U.target.style.borderColor=a.widget.theme.primaryColor,U.target.style.boxShadow=`0 0 0 3px ${a.widget.theme.primaryColor}20`},onBlur:U=>{U.target.style.borderColor="#e5e7eb",U.target.style.boxShadow="none"}}),s.jsx("button",{onClick:G,disabled:!N.trim()||b,style:{backgroundColor:a.widget.theme.primaryColor},className:"px-4 py-2 text-white rounded-lg hover:opacity-90 transition-all duration-200 disabled:opacity-50 shadow-sm",children:s.jsx(wc,{className:"w-4 h-4"})})]})})]})]})},Go="mkbf_avatar_library",jm=[{id:"preset-robot",name:"Robot",imageData:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiM2MzY2ZjEiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cmVjdCB4PSIzIiB5PSIxMSIgd2lkdGg9IjE4IiBoZWlnaHQ9IjEwIiByeD0iMiIvPjxjaXJjbGUgY3g9IjEyIiBjeT0iNSIgcj0iMiIvPjxwYXRoIGQ9Ik0xMiA3djQiLz48bGluZSB4MT0iOCIgeTE9IjE2IiB4Mj0iOCIgeTI9IjE2Ii8+PGxpbmUgeDE9IjE2IiB5MT0iMTYiIHgyPSIxNiIgeTI9IjE2Ii8+PC9zdmc+",createdAt:"2024-01-01T00:00:00Z"},{id:"preset-support",name:"Support Agent",imageData:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiMxMGI5ODEiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJNMTggMTYuOTJhNS41MDQgNS41MDQgMCAwIDAtMi41NjctLjU0OGMtLjI1MyAwLS41IC4wMjEtLjc0My4wNjIiLz48Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIvPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiLz48cGF0aCBkPSJNNyAyMC42NjJWMTlhMiAyIDAgMCAxIDItMmg2YTIgMiAwIDAgMSAyIDJ2MS42NjIiLz48bGluZSB4MT0iNCIgeTE9IjQiIHgyPSI0IiB5Mj0iNCIvPjwvc3ZnPg==",createdAt:"2024-01-01T00:00:00Z"},{id:"preset-bot-blue",name:"Bot (Blue)",imageData:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjM2I4MmY2IiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMSI+PGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTEiIGZpbGw9IiMzYjgyZjYiLz48Y2lyY2xlIGN4PSI5IiBjeT0iMTAiIHI9IjIiIGZpbGw9IiNmZmYiLz48Y2lyY2xlIGN4PSIxNSIgY3k9IjEwIiByPSIyIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTggMTVjMCAwIDIgMyA0IDMgMiAwIDQtMyA0LTMiIHN0cm9rZT0iI2ZmZiIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+",createdAt:"2024-01-01T00:00:00Z"},{id:"preset-user",name:"User",imageData:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiM2YjcyODAiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48Y2lyY2xlIGN4PSIxMiIgY3k9IjgiIHI9IjQiLz48cGF0aCBkPSJNMjAgMjF2LTJhNCA0IDAgMCAwLTQtNEg4YTQgNCAwIDAgMC00IDR2MiIvPjwvc3ZnPg==",createdAt:"2024-01-01T00:00:00Z"},{id:"preset-user-purple",name:"User (Purple)",imageData:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjOGI1Y2Y2IiBzdHJva2U9IiNmZmYiPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjExIiBmaWxsPSIjOGI1Y2Y2Ii8+PGNpcmNsZSBjeD0iMTIiIGN5PSI5IiByPSIzIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTE4IDE5Yy0uNS0yLjUtMy00LTYtNHMtNS41IDEuNS02IDQiIHN0cm9rZT0iI2ZmZiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg==",createdAt:"2024-01-01T00:00:00Z"},{id:"preset-sparkle",name:"AI Sparkle",imageData:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjZjU5ZTBiIiBzdHJva2U9IiNmNTllMGIiIHN0cm9rZS13aWR0aD0iMiI+PHBhdGggZD0iTTEyIDNsMS41IDQuNUwxOCA5bC00LjUgMS41TDEyIDEybC0xLjUtMS41TDYgOWw0LjUtMS41TDEyIDN6Ii8+PHBhdGggZD0iTTUgMTVsLjc1IDIuMjVMMTggMThsLTIuMjUuNzVMNSAyMWwuNzUtMi4yNUwzIDE4bDIuMjUtLjc1TDUgMTV6IiBvcGFjaXR5PSIuNyIvPjwvc3ZnPg==",createdAt:"2024-01-01T00:00:00Z"}];class br{static getApiBaseUrl(){return typeof window<"u"&&window.location.hostname!=="localhost"?"/.netlify/functions":""}static async getAvatars(){const c=await this.getCustomAvatars();return[...jm,...c]}static async getCustomAvatars(){const c=this.getApiBaseUrl();if(c)try{const u=await fetch(`${c}/avatars`);if(u.ok)return(await u.json()).avatars||[]}catch{console.warn("Netlify avatars not available, falling back to localStorage")}try{const u=localStorage.getItem(Go);return u?JSON.parse(u):[]}catch(u){return console.error("Failed to load avatars from localStorage:",u),[]}}static async saveAvatar(c,u){const h={id:`avatar-${Date.now()}`,name:c.trim()||"Custom Avatar",imageData:u,createdAt:new Date().toISOString()},p=this.getApiBaseUrl();if(p)try{if((await fetch(`${p}/avatars`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok)return h}catch{console.warn("Netlify save failed, falling back to localStorage")}try{const j=await this.getCustomAvatars();j.push(h),localStorage.setItem(Go,JSON.stringify(j))}catch(j){throw console.error("Failed to save avatar:",j),j}return h}static async deleteAvatar(c){if(c.startsWith("preset-"))throw new Error("Cannot delete preset avatars");const u=this.getApiBaseUrl();if(u)try{if((await fetch(`${u}/avatars?id=${c}`,{method:"DELETE"})).ok)return}catch{console.warn("Netlify delete failed, falling back to localStorage")}try{const p=(await this.getCustomAvatars()).filter(j=>j.id!==c);localStorage.setItem(Go,JSON.stringify(p))}catch(h){throw console.error("Failed to delete avatar:",h),h}}static async getAvatarById(c){return(await this.getAvatars()).find(h=>h.id===c)||null}}const Nm=({bot:a,onWidgetUpdate:c})=>{const[u,h]=Q.useState("desktop"),[p,j]=Q.useState([]),[N,B]=Q.useState(null),[b,P]=Q.useState("");Q.useEffect(()=>{br.getAvatars().then(j)},[]);const _=a.widget.avatars||{bot:{type:"emoji",value:""},user:{type:"emoji",value:""},showAvatars:!0},C=g=>{const k={...a.widget,header:{...a.widget.header,...g}};c(k)},E=g=>{const k={...a.widget,greeting:{...a.widget.greeting,...g}};c(k)},I=g=>{const k={...a.widget,bubble:{...a.widget.bubble,...g}};c(k)},S=g=>{const k={...a.widget,theme:{...a.widget.theme,...g}};c(k)},F=g=>{const k=g.target.files?.[0];if(!k)return;const X=new FileReader;X.onload=z=>{const fe=z.target?.result;C({bannerImage:fe})},X.readAsDataURL(k)},G=()=>{C({bannerImage:void 0})},ue=g=>{const k=a.widget.avatars||{bot:{type:"emoji",value:""},user:{type:"emoji",value:""},showAvatars:!0},X={...a.widget,avatars:{...k,...g}};c(X)},ge=(g,k)=>{const X=k.target.files?.[0];if(!X)return;const z=new FileReader;z.onload=fe=>{const me=fe.target?.result;ue({[g]:{type:"upload",value:me}})},z.readAsDataURL(X)},ve=(g,k)=>{ue({[g]:{type:"library",value:k.imageData}}),B(null)},re=async g=>{const k=_[g].value;if(!k||_[g].type==="emoji"){alert("Upload an image first before saving to library");return}const X=b.trim()||`${g==="bot"?"Bot":"User"} Avatar`;await br.saveAvatar(X,k),j(await br.getAvatars()),P(""),alert("Avatar saved to library!")},Ne=async g=>{confirm("Delete this avatar from your library?")&&(await br.deleteAvatar(g),j(await br.getAvatars()))},U=g=>{const k=_[g];return k.type==="emoji"?s.jsx("span",{className:"text-2xl",children:k.value}):s.jsx("img",{src:k.value,alt:g,className:"w-full h-full object-cover rounded-full"})};return s.jsxs("div",{className:"flex h-full",children:[s.jsx("div",{className:"w-96 bg-white shadow-lg border-r overflow-y-auto",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Chat Widget Customization"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Live Preview:"})," Changes are applied instantly to the preview on the right. All styling updates work in both preview and exported standalone widgets."]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Header"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:a.widget.header.title,onChange:g=>C({title:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Chat Support"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle (optional)"}),s.jsx("input",{type:"text",value:a.widget.header.subtitle||"",onChange:g=>C({subtitle:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"We're here to help!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Image"}),a.widget.header.bannerImage?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:a.widget.header.bannerImage,alt:"Banner",className:"w-full h-20 object-cover rounded-md border"}),s.jsx("button",{onClick:G,className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx($s,{className:"w-3 h-3"})})]}),s.jsxs("label",{className:"flex items-center justify-center w-full px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 cursor-pointer",children:[s.jsx(zn,{className:"w-4 h-4 mr-2"}),"Replace Image",s.jsx("input",{type:"file",accept:"image/*",onChange:F,className:"hidden"})]})]}):s.jsxs("label",{className:"flex items-center justify-center w-full px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 cursor-pointer",children:[s.jsx(zn,{className:"w-4 h-4 mr-2"}),"Upload Banner Image",s.jsx("input",{type:"file",accept:"image/*",onChange:F,className:"hidden"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports PNG, JPG, SVG. Recommended size: 320x80px"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.widget.header.showBanner,onChange:g=>C({showBanner:g.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show banner image in header"})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header Background"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"color",value:a.widget.header.backgroundColor,onChange:g=>C({backgroundColor:g.target.value}),className:"w-16 h-10 border border-gray-300 rounded-md cursor-pointer"}),s.jsx("input",{type:"text",value:a.widget.header.backgroundColor,onChange:g=>C({backgroundColor:g.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"#3B82F6"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header Text Color"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"color",value:a.widget.header.textColor,onChange:g=>C({textColor:g.target.value}),className:"w-16 h-10 border border-gray-300 rounded-md cursor-pointer"}),s.jsx("input",{type:"text",value:a.widget.header.textColor,onChange:g=>C({textColor:g.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"#FFFFFF"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Opening Greeting"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Greeting Message"}),s.jsx("textarea",{value:a.widget.greeting.message,onChange:g=>E({message:g.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Hello! How can I help you today?"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.widget.greeting.showOnOpen,onChange:g=>E({showOnOpen:g.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show greeting when chat opens"})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Chat Bubble"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chat Bubble Color"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"color",value:a.widget.bubble.color,onChange:g=>I({color:g.target.value}),className:"w-16 h-10 border border-gray-300 rounded-md cursor-pointer"}),s.jsx("input",{type:"text",value:a.widget.bubble.color,onChange:g=>I({color:g.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"#3B82F6"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bubble Icon"}),s.jsx("input",{type:"text",value:a.widget.bubble.icon,onChange:g=>I({icon:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:""}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use emoji, text, or HTML entities (e.g., , , ?, !)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bubble Position"}),s.jsxs("select",{value:a.widget.bubble.position,onChange:g=>I({position:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"bottom-right",children:"Bottom Right"}),s.jsx("option",{value:"bottom-left",children:"Bottom Left"}),s.jsx("option",{value:"top-right",children:"Top Right"}),s.jsx("option",{value:"top-left",children:"Top Left"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Theme"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color (User Messages)"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"color",value:a.widget.theme.primaryColor,onChange:g=>S({primaryColor:g.target.value}),className:"w-16 h-10 border border-gray-300 rounded-md cursor-pointer"}),s.jsx("input",{type:"text",value:a.widget.theme.primaryColor,onChange:g=>S({primaryColor:g.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"#3B82F6"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color (Accents)"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"color",value:a.widget.theme.secondaryColor,onChange:g=>S({secondaryColor:g.target.value}),className:"w-16 h-10 border border-gray-300 rounded-md cursor-pointer"}),s.jsx("input",{type:"text",value:a.widget.theme.secondaryColor,onChange:g=>S({secondaryColor:g.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"#10B981"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),s.jsxs("select",{value:a.widget.theme.fontFamily,onChange:g=>S({fontFamily:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"Inter, sans-serif",children:"Inter"}),s.jsx("option",{value:"Roboto, sans-serif",children:"Roboto"}),s.jsx("option",{value:"Poppins, sans-serif",children:"Poppins"}),s.jsx("option",{value:"Open Sans, sans-serif",children:"Open Sans"}),s.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),s.jsx("option",{value:"Georgia, serif",children:"Georgia"}),s.jsx("option",{value:"Courier New, monospace",children:"Courier New"})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:" Widget Styling Active"}),s.jsx("p",{className:"text-sm text-green-800",children:"All color and styling changes are working correctly and will be applied to:"}),s.jsxs("ul",{className:"text-sm text-green-800 mt-2 space-y-1",children:[s.jsx("li",{children:" Live preview (right panel)"}),s.jsx("li",{children:" Exported standalone HTML files"}),s.jsx("li",{children:" Production chat widgets"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(um,{className:"w-5 h-5 mr-2"}),"Avatars"]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:_.showAvatars,onChange:g=>ue({showAvatars:g.target.checked}),className:"mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show avatars in chat"})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Bot Avatar"}),s.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-full border-2 border-indigo-200 flex items-center justify-center overflow-hidden",children:U("bot")}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:_.bot.type==="emoji"?_.bot.value:"",onChange:g=>ue({bot:{type:"emoji",value:g.target.value}}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-md text-sm",placeholder:"Emoji (e.g., )"}),s.jsxs("label",{className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 cursor-pointer flex items-center",children:[s.jsx(zn,{className:"w-4 h-4 mr-1"}),"Upload",s.jsx("input",{type:"file",accept:"image/*",onChange:g=>ge("bot",g),className:"hidden"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>B("bot"),className:"flex-1 px-3 py-1.5 text-sm text-indigo-600 border border-indigo-300 rounded-md hover:bg-indigo-50",children:"Choose from Library"}),_.bot.type!=="emoji"&&s.jsxs("button",{onClick:()=>re("bot"),className:"px-3 py-1.5 text-sm text-green-600 border border-green-300 rounded-md hover:bg-green-50 flex items-center",children:[s.jsx(Xo,{className:"w-4 h-4 mr-1"}),"Save"]})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"User Avatar"}),s.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-full border-2 border-gray-200 flex items-center justify-center overflow-hidden",children:U("user")}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:_.user.type==="emoji"?_.user.value:"",onChange:g=>ue({user:{type:"emoji",value:g.target.value}}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-md text-sm",placeholder:"Emoji (e.g., )"}),s.jsxs("label",{className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 cursor-pointer flex items-center",children:[s.jsx(zn,{className:"w-4 h-4 mr-1"}),"Upload",s.jsx("input",{type:"file",accept:"image/*",onChange:g=>ge("user",g),className:"hidden"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>B("user"),className:"flex-1 px-3 py-1.5 text-sm text-indigo-600 border border-indigo-300 rounded-md hover:bg-indigo-50",children:"Choose from Library"}),_.user.type!=="emoji"&&s.jsxs("button",{onClick:()=>re("user"),className:"px-3 py-1.5 text-sm text-green-600 border border-green-300 rounded-md hover:bg-green-50 flex items-center",children:[s.jsx(Xo,{className:"w-4 h-4 mr-1"}),"Save"]})]})]})]})]}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900",children:["Choose ",N==="bot"?"Bot":"User"," Avatar"]}),s.jsx("button",{onClick:()=>B(null),className:"text-gray-500 hover:text-gray-700",children:s.jsx($s,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"grid grid-cols-4 gap-3",children:p.map(g=>s.jsxs("div",{className:"relative group",children:[s.jsx("button",{onClick:()=>ve(N,g),className:"w-16 h-16 rounded-full overflow-hidden border-2 border-gray-200 hover:border-indigo-500 transition-colors",children:s.jsx("img",{src:g.imageData,alt:g.name,className:"w-full h-full object-cover"})}),!g.id.startsWith("preset-")&&s.jsx("button",{onClick:()=>Ne(g.id),className:"absolute -top-1 -right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Rn,{className:"w-3 h-3"})}),s.jsx("p",{className:"text-xs text-center mt-1 truncate",children:g.name})]},g.id))})]})})]})]})}),s.jsxs("div",{className:"flex-1 bg-gray-100 p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Live Preview"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>h("desktop"),className:`flex items-center space-x-2 px-3 py-2 text-sm font-medium rounded-md ${u==="desktop"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(nm,{className:"w-4 h-4"}),s.jsx("span",{children:"Desktop"})]}),s.jsxs("button",{onClick:()=>h("mobile"),className:`flex items-center space-x-2 px-3 py-2 text-sm font-medium rounded-md ${u==="mobile"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(om,{className:"w-4 h-4"}),s.jsx("span",{children:"Mobile"})]})]})]}),s.jsx("div",{className:`mx-auto bg-white rounded-lg shadow-lg overflow-hidden ${u==="desktop"?"max-w-4xl":"max-w-sm"}`,children:s.jsxs("div",{className:"h-96 relative",style:{backgroundColor:"#f8fafc"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Demo Website"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Click the chat bubble to test your widget!"}),s.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:" All styling changes are live"})]})}),s.jsx(Nc,{bot:a,preview:!0})]})})]})]})},km=({bot:a,onBotUpdate:c})=>{const[u,h]=Q.useState("modules"),[p,j]=Q.useState(""),[N,B]=Q.useState(!1),[b,P]=Q.useState(!1),[_,C]=Q.useState("idle"),E=async()=>{if(!a.settings.apiBaseUrl){alert("Please set the API Base URL first!");return}P(!0),C("idle");try{if(!(await fetch(`${a.settings.apiBaseUrl}/api/bot-config?botId=${a.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:a})})).ok)throw new Error("Failed to publish bot config");C("success"),console.log(" Bot config published to backend"),setTimeout(()=>C("idle"),3e3)}catch(g){console.error("Publish error:",g),C("error"),alert("Failed to publish bot config. Make sure the backend is deployed and the API Base URL is correct.")}finally{P(!1)}},I=g=>{const k=g.includes("?")?`${g}&embed=true`:`${g}?embed=true`;return`<script>
(function() {
  var btn = document.createElement('div');
  btn.innerHTML = '';
  btn.style.cssText = 'position:fixed;bottom:20px;right:20px;width:60px;height:60px;background:${a.widget.theme.primaryColor};border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:24px;box-shadow:0 4px 12px rgba(0,0,0,0.15);z-index:9998;';
  
  var iframe = document.createElement('iframe');
  iframe.src = '${k}';
  iframe.style.cssText = 'position:fixed;bottom:90px;right:20px;width:380px;height:520px;border:none;border-radius:12px;box-shadow:0 8px 32px rgba(0,0,0,0.12);z-index:9999;display:none;background:white;';
  
  btn.onclick = function() {
    iframe.style.display = iframe.style.display === 'none' ? 'block' : 'none';
  };
  
  document.body.appendChild(btn);
  document.body.appendChild(iframe);
})();
<\/script>`},S=async()=>{p&&(await navigator.clipboard.writeText(I(p)),B(!0),setTimeout(()=>B(!1),2e3))},F=g=>{const k={id:Date.now().toString(),type:g,config:{},position:{x:100,y:100},enabled:!0},X={...a,modules:[...a.modules,k]};c(X)},G=(g,k)=>{const X={...a,modules:a.modules.map(z=>z.id===g?{...z,...k}:z)};c(X)},ue=g=>{const k={...a,modules:a.modules.filter(X=>X.id!==g)};c(k)},ge=g=>{const k={...a,widget:g};c(k)},ve=g=>{const k={...a,...g};c(k)},re=g=>{const k={...a,settings:g};c(k)},Ne=[{id:"modules",label:"Modules",icon:lm},{id:"widget",label:"Chat Widget",icon:rm},{id:"api",label:"AI Settings",icon:em},{id:"settings",label:"Bot Settings",icon:Ws}],U=()=>{c(a)};return s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"bg-white border-b",children:[s.jsx("div",{className:"flex space-x-1 px-6 py-3",children:Ne.map(g=>{const k=g.icon;return s.jsxs("button",{onClick:()=>h(g.id),className:`flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${u===g.id?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(k,{className:"w-4 h-4"}),s.jsx("span",{children:g.label})]},g.id)})}),s.jsx("div",{className:"p-4 border-b",children:s.jsx("button",{onClick:U,className:"w-full px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Save Bot"})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[u==="modules"&&s.jsxs("div",{className:"flex flex-1",children:[s.jsx(xm,{onModuleAdd:F}),s.jsx(vm,{modules:a.modules,onModuleUpdate:G,onModuleDelete:ue})]}),u==="widget"&&s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx(Nm,{bot:a,onWidgetUpdate:ge})}),u==="api"&&s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"AI & API Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Provider"}),s.jsxs("select",{value:a.settings.aiProvider||"openrouter",onChange:g=>re({...a.settings,aiProvider:g.target.value,model:g.target.value==="gemini"?"gemini-2.0-flash":"anthropic/claude-3-haiku"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"openrouter",children:"OpenRouter (Multi-Model)"}),s.jsx("option",{value:"gemini",children:"Google Gemini"})]})]}),a.settings.aiProvider==="gemini"&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium text-blue-900",children:" Gemini Configuration"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gemini API Key"}),s.jsx("input",{type:"password",value:a.settings.geminiApiKey||"",onChange:g=>re({...a.settings,geminiApiKey:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"AIza..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Get your API key from ",s.jsx("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800",children:"Google AI Studio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gemini Model"}),s.jsxs("select",{value:a.settings.model||"gemini-2.0-flash",onChange:g=>re({...a.settings,model:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"gemini-2.0-flash",children:"Gemini 2.0 Flash (Fast & Smart)"}),s.jsx("option",{value:"gemini-1.5-flash",children:"Gemini 1.5 Flash (Fast)"}),s.jsx("option",{value:"gemini-1.5-pro",children:"Gemini 1.5 Pro (Most Capable)"})]})]})]}),a.settings.aiProvider!=="gemini"&&s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium text-purple-900",children:" OpenRouter Configuration"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OpenRouter API Key"}),s.jsx("input",{type:"password",value:a.settings.openRouterApiKey||"",onChange:g=>re({...a.settings,openRouterApiKey:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"sk-or-v1-..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Get your API key from ",s.jsx("a",{href:"https://openrouter.ai",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800",children:"OpenRouter.ai"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),s.jsx("input",{type:"text",value:a.settings.model||"",onChange:g=>re({...a.settings,model:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"anthropic/claude-3-haiku"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Popular models: ",s.jsx("code",{children:"openai/gpt-4"}),", ",s.jsx("code",{children:"anthropic/claude-3-sonnet"}),", ",s.jsx("code",{children:"meta-llama/llama-2-70b-chat"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"System Prompt"}),s.jsx("textarea",{value:a.settings.systemPrompt||"",onChange:g=>re({...a.settings,systemPrompt:g.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"You are a helpful assistant..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperature"}),s.jsx("input",{type:"number",min:"0",max:"2",step:"0.1",value:a.settings.temperature||.7,onChange:g=>re({...a.settings,temperature:parseFloat(g.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Tokens"}),s.jsx("input",{type:"number",min:"1",max:"4000",value:a.settings.maxTokens||1e3,onChange:g=>re({...a.settings,maxTokens:parseInt(g.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Base URL (for deployed backend)"}),s.jsx("input",{type:"url",value:a.settings.apiBaseUrl||"",onChange:g=>re({...a.settings,apiBaseUrl:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"https://your-app.netlify.app"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set this to your deployed Bot Factory URL. Exported bots will call this for AI and lead storage."})]}),s.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-indigo-900 mb-2",children:" Secure API Key Storage"}),s.jsx("p",{className:"text-sm text-indigo-800 mb-3",children:"API keys are stored securely on your deployed backend (Netlify Blobs). Exported HTML files do NOT contain API keys - they call your backend API."}),s.jsx("button",{onClick:E,disabled:b||!a.settings.apiBaseUrl,className:`flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${_==="success"?"bg-green-600 text-white":"bg-indigo-600 text-white hover:bg-indigo-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:_==="success"?s.jsxs(s.Fragment,{children:[s.jsx(mc,{className:"w-4 h-4"}),s.jsx("span",{children:"Published!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(zn,{className:"w-4 h-4"}),s.jsx("span",{children:b?"Publishing...":"Publish Bot Config"})]})})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:" Standalone Security"}),s.jsx("p",{className:"text-sm text-yellow-800",children:"When you export your bot as HTML, the API key will be visible in the source code. Consider using API keys with usage limits for production deployments."})]})]})]})}),u==="settings"&&s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Bot Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bot Name"}),s.jsx("input",{type:"text",value:a.name,onChange:g=>ve({name:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:a.description,onChange:g=>ve({description:g.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Bot Information"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{children:["Created: ",new Date(a.createdAt).toLocaleString()]}),s.jsxs("div",{children:["Last Updated: ",new Date(a.updatedAt).toLocaleString()]}),s.jsxs("div",{children:["Modules: ",a.modules.length]}),s.jsxs("div",{children:["Bot ID: ",a.id]})]})]}),s.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-indigo-900 mb-3",children:" Embed Code Generator"}),s.jsx("p",{className:"text-sm text-indigo-800 mb-3",children:"Deploy your widget to Netlify, then paste the URL below to get embed code."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"url",value:p,onChange:g=>j(g.target.value),placeholder:"https://your-bot.netlify.app",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),p&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gray-900 text-green-400 p-3 rounded-md text-xs font-mono overflow-x-auto max-h-32 overflow-y-auto",children:s.jsx("pre",{children:I(p)})}),s.jsxs("button",{onClick:S,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:[N?s.jsx(mc,{className:"w-4 h-4"}):s.jsx(xc,{className:"w-4 h-4"}),s.jsx("span",{children:N?"Copied!":"Copy Embed Code"})]})]})]})]})]})]})})]})]})},Sm=({bots:a,activeBot:c,onBotSelect:u,onBotUpdate:h})=>{const[p,j]=Q.useState(null),[N,B]=Q.useState(""),b=I=>{j(I.id),B(I.name)},P=async I=>{if(N.trim()){const S={...I,name:N.trim()};await Ie.saveBot(S),h(S)}j(null)},_=()=>{j(null),B("")},C=async I=>{window.confirm(`Are you sure you want to delete "${I.name}"?`)&&(await Ie.deleteBot(I.id),window.location.reload())},E=async I=>{const S={...I,id:Date.now().toString(),name:`${I.name} (Copy)`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await Ie.saveBot(S),h(S)};return s.jsxs("div",{className:"p-4 space-y-3",children:[a.map(I=>s.jsx("div",{className:`p-3 rounded-lg border-2 transition-all cursor-pointer group ${c?.id===I.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300 bg-white"}`,onClick:()=>!p&&u(I),children:s.jsxs("div",{className:"flex items-center justify-between",children:[p===I.id?s.jsx("div",{className:"flex-1 mr-2",children:s.jsx("input",{type:"text",value:N,onChange:S=>B(S.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",onBlur:()=>P(I),onKeyPress:S=>S.key==="Enter"&&P(I),onKeyDown:S=>S.key==="Escape"&&_(),autoFocus:!0})}):s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:I.name}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:I.description}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{className:"text-xs text-gray-400",children:[I.modules.length," modules"]}),s.jsx("span",{className:"text-xs text-gray-400",children:""}),s.jsx("span",{className:"text-xs text-gray-400",children:new Date(I.updatedAt).toLocaleDateString()})]})]}),p!==I.id&&s.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:S=>{S.stopPropagation(),b(I)},className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:s.jsx(Hs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:S=>{S.stopPropagation(),E(I)},className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:s.jsx(xc,{className:"w-4 h-4"})}),s.jsx("button",{onClick:S=>{S.stopPropagation(),C(I)},className:"p-1 text-gray-400 hover:text-red-600 rounded",children:s.jsx(Rn,{className:"w-4 h-4"})})]})]})},I.id)),a.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ws,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No bots yet. Create your first bot to get started!"})]})]})},Cm=({botId:a})=>{const[c,u]=Q.useState("core"),[h,p]=Q.useState({}),[j,N]=Q.useState({}),[B,b]=Q.useState(!1),[P,_]=Q.useState(""),[C,E]=Q.useState(""),[I,S]=Q.useState("local");Q.useEffect(()=>{F(),G()},[a]);const F=async()=>{try{const k=await Ie.getAllMemories(a);p(k)}catch(k){console.error("Failed to load memories:",k)}},G=async()=>{try{const k=await Fs.getAllMemories(a);N(k)}catch(k){console.error("Failed to load cloud memories:",k)}},ue=k=>{_(typeof k=="string"?k:JSON.stringify(k,null,2)),b(!0)},ge=async()=>{try{let k;try{k=JSON.parse(P)}catch{k=P}await Ie.overwriteMemory(a,c,k),b(!1),_(""),F()}catch(k){console.error("Failed to save memory:",k)}},ve=async()=>{if(C.trim())try{let k;try{k=JSON.parse(C)}catch{k=C}await Ie.saveMemory(a,c,k),E(""),F()}catch(k){console.error("Failed to add entry:",k)}},re=async k=>{if(window.confirm(`Are you sure you want to delete all ${k} memories?`))try{await Ie.overwriteMemory(a,k,[]),F()}catch(X){console.error("Failed to delete memories:",X)}},Ne=[{key:"core",label:"Core",description:"Bot personality and core settings"},{key:"experience",label:"Experience",description:"Learning and interaction history"},{key:"notebook",label:"Notebook",description:"Notes and custom data"},{key:"job",label:"Jobs",description:"Automation tasks and scheduled jobs"}],U=I==="local"?h[c]||[]:[],g=I==="cloud"?j[c]:null;return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Ko,{className:"w-5 h-5 text-indigo-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Memory Viewer"})]}),s.jsxs("div",{className:"flex space-x-1 mb-3",children:[s.jsx("button",{onClick:()=>S("local"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${I==="local"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"Local Storage"}),s.jsx("button",{onClick:()=>S("cloud"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${I==="cloud"?"bg-green-100 text-green-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"MemoryKeep Cloud"})]}),s.jsx("div",{className:"flex space-x-1",children:Ne.map(k=>s.jsx("button",{onClick:()=>u(k.key),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${c===k.key?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:k.label},k.key))})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"font-medium text-gray-900",children:[Ne.find(k=>k.key===c)?.label," Memory",s.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",I==="local"?"Local":"Cloud",")"]})]}),I==="local"&&s.jsx("button",{onClick:()=>re(c),className:"text-red-500 hover:text-red-700 text-sm",children:s.jsx(Rn,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:Ne.find(k=>k.key===c)?.description}),I==="cloud"&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-1",children:" MemoryKeep Cloud"}),s.jsx("p",{className:"text-sm text-green-800",children:"Connected to memorykeep.cloud - Real-time memory storage for automation and AI learning."})]})]}),I==="cloud"?s.jsx("div",{className:"space-y-4",children:g?s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["Cloud Memory (",c,")"]}),s.jsx("button",{onClick:()=>G(),className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Refresh"})]}),s.jsx("div",{className:"text-sm text-gray-900 font-mono whitespace-pre-wrap bg-white p-3 rounded border",children:typeof g=="string"?g:JSON.stringify(g,null,2)})]}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ko,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),s.jsxs("p",{children:["No ",c," memory in cloud yet"]}),s.jsx("button",{onClick:()=>G(),className:"mt-2 text-indigo-600 hover:text-indigo-800 text-sm",children:"Refresh"})]})}):B?s.jsxs("div",{className:"space-y-4",children:[s.jsx("textarea",{value:P,onChange:k=>_(k.target.value),className:"w-full h-64 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"Enter memory content (JSON or text)"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:ge,className:"flex items-center space-x-1 px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:[s.jsx(Xo,{className:"w-4 h-4"}),s.jsx("span",{children:"Save"})]}),s.jsxs("button",{onClick:()=>b(!1),className:"flex items-center space-x-1 px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:[s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel"})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[U.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ko,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),s.jsxs("p",{children:["No ",c," memories yet"]})]}):U.map(k=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:new Date(k.timestamp).toLocaleString()}),s.jsx("button",{onClick:()=>ue(k.content),className:"text-indigo-600 hover:text-indigo-800",children:s.jsx(Hs,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"text-sm text-gray-900 font-mono whitespace-pre-wrap",children:typeof k.content=="string"?k.content:JSON.stringify(k.content,null,2)})]},k.id)),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:C,onChange:k=>E(k.target.value),className:"w-full h-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:`Add new ${c} memory...`}),s.jsxs("button",{onClick:ve,className:"flex items-center space-x-1 px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:[s.jsx(fn,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Entry"})]})]})})]})]})]})},bm=({activeBot:a,bots:c,onBotUpdate:u,onBotSelect:h,showMemoryViewer:p})=>{const[j,N]=Q.useState(!1),B=async()=>{const b={id:Date.now().toString(),name:`Bot ${c.length+1}`,description:"A new bot ready to be configured",modules:[],widget:{header:{title:"Chat Support",subtitle:"We're here to help!",backgroundColor:"#3B82F6",textColor:"#FFFFFF",showBanner:!1},greeting:{message:"Hello! How can I help you today?",showOnOpen:!0},bubble:{color:"#3B82F6",icon:"",position:"bottom-right"},theme:{primaryColor:"#3B82F6",secondaryColor:"#10B981",fontFamily:"Inter, sans-serif"},avatars:{bot:{type:"emoji",value:""},user:{type:"emoji",value:""},showAvatars:!0}},settings:{model:"openai/gpt-3.5-turbo",temperature:.7,maxTokens:1e3,systemPrompt:"You are a helpful assistant.",isActive:!0,allowedDomains:[],rateLimiting:{enabled:!1,maxRequests:100,timeWindow:3600},analytics:{enabled:!0,trackConversations:!0,trackUserActions:!0}},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await Ie.saveBot(b),u(b),N(!1)};return s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsxs("div",{className:"w-80 bg-white shadow-lg flex flex-col",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Bots"}),s.jsxs("button",{onClick:B,className:"flex items-center space-x-1 px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx(fn,{className:"w-4 h-4"}),s.jsx("span",{children:"New Bot"})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx(Sm,{bots:c,activeBot:a,onBotSelect:h,onBotUpdate:u})})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a?s.jsx(km,{bot:a,onBotUpdate:u}):s.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(fn,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Bot Selected"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Create a new bot or select an existing one to get started"}),s.jsxs("button",{onClick:B,className:"inline-flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx(fn,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Your First Bot"})]})]})}),p&&a&&s.jsx("div",{className:"w-96 bg-white shadow-lg border-l",children:s.jsx(Cm,{botId:a.id})})]})]})};function Im(){const[a,c]=Q.useState(null),[u,h]=Q.useState([]),[p,j]=Q.useState(!1),[N,B]=Q.useState(!1);Q.useEffect(()=>{(async()=>(await Ie.migrateFromLocalStorage(),b()))()},[]),Q.useEffect(()=>{const S=F=>{};return window.addEventListener("beforeunload",S),()=>{window.removeEventListener("beforeunload",S)}},[a]);const b=async()=>{try{const S=await Ie.getAllBots();h(S),S.length>0&&!a&&c(S[0])}catch(S){console.error("Failed to load bots:",S)}},P=async S=>{try{await Ie.saveBot(S),c(S),b()}catch(F){console.error("Failed to save bot:",F)}},_=async()=>{if(!a)return;const S={bot:a,memories:await Ie.getAllMemories(a.id),exportedAt:new Date().toISOString(),version:"2.0",standalone:!0,runtime:{memorySystem:"localStorage",apiEndpoint:a.settings.openRouterApiKey?"https://openrouter.ai/api/v1":null}},F=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),G=URL.createObjectURL(F),ue=document.createElement("a");ue.href=G,ue.download=`${a.name.replace(/\s+/g,"-")}-standalone.json`,ue.click(),URL.revokeObjectURL(G)},C=async()=>{if(!a)return;const S=await E(a),F=`${a.name.replace(/\s+/g,"-")}-widget.html`;if("showSaveFilePicker"in window)try{const ue=await(await window.showSaveFilePicker({suggestedName:F,types:[{description:"HTML Files",accept:{"text/html":[".html"]}}]})).createWritable();await ue.write(S),await ue.close(),alert("File saved successfully!");return}catch(G){if(G.name==="AbortError")return;console.error("Save picker failed:",G)}try{await navigator.clipboard.writeText(S),alert(`HTML copied to clipboard!

To save:
1. Open Notepad
2. Paste (Ctrl+V)
3. File > Save As
4. Name: ${F}
5. Save as type: All Files (*.*)`)}catch(G){console.error("Clipboard failed:",G),alert("Export failed. Please try a different browser.")}},E=async S=>(await Ie.getAllMemories(S.id),`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${S.name} - Chat Widget</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        * { box-sizing: border-box; }
        body { margin: 0; padding: 0; font-family: '${S.widget.theme.fontFamily}', sans-serif; }
        :root { --primary-color: ${S.widget.theme.primaryColor}; --secondary-color: ${S.widget.theme.secondaryColor}; }
        
        .chat-bubble { position: fixed; z-index: 1000; width: 60px; height: 60px; border-radius: 50%; background: var(--primary-color); color: white; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.15); transition: transform 0.2s; font-size: 24px; }
        .chat-bubble:hover { transform: scale(1.1); }
        
        .chat-window { position: fixed; z-index: 1001; width: 350px; height: 500px; background: white; border-radius: 12px; box-shadow: 0 8px 32px rgba(0,0,0,0.12); display: none; flex-direction: column; }
        
        /* Embedded Mode Styles */
        body.embedded .chat-bubble { display: none !important; }
        body.embedded .chat-window { 
            display: flex !important;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            border-radius: 0;
            box-shadow: none;
            z-index: 1000;
        }
        body.embedded .close-button { display: none !important; }

        .chat-header { background: ${S.widget.header.backgroundColor}; color: ${S.widget.header.textColor}; padding: 16px; border-radius: 12px 12px 0 0; display: flex; align-items: center; justify-content: space-between; }
        body.embedded .chat-header { border-radius: 0; }
        
        .chat-header-content { display: flex; align-items: center; gap: 12px; flex: 1; min-width: 0; }
        .chat-header img { height: 32px; width: auto; border-radius: 4px; }
        .chat-header-text { flex: 1; min-width: 0; }
        .chat-header-title { font-weight: 600; font-size: 16px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .chat-header-subtitle { font-size: 12px; opacity: 0.9; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .close-button { background: none; border: none; color: inherit; font-size: 20px; cursor: pointer; padding: 4px; margin-left: 8px; flex-shrink: 0; }
        .chat-messages { flex: 1; padding: 16px; overflow-y: auto; background: #f8fafc; min-height: 0; }
        .message { margin-bottom: 12px; display: flex; flex-direction: column; }
        .user-message { align-items: flex-end; }
        .bot-message { align-items: flex-start; }
        .message-content { max-width: 80%; padding: 10px 14px; border-radius: 18px; font-size: 14px; line-height: 1.4; word-wrap: break-word; }
        .user-message .message-content { background: var(--primary-color); color: white; }
        .bot-message .message-content { background: white; color: #374151; border: 1px solid #e5e7eb; }
        .chat-input-container { padding: 16px; border-top: 1px solid #e5e7eb; display: flex; gap: 8px; flex-shrink: 0; }
        .chat-input { flex: 1; padding: 10px 14px; border: 1px solid #d1d5db; border-radius: 20px; outline: none; font-size: 14px; }
        .chat-input:focus { border-color: var(--primary-color); }
        .send-button { background: var(--primary-color); color: white; border: none; border-radius: 20px; padding: 10px 16px; cursor: pointer; font-size: 14px; }
        .send-button:disabled { opacity: 0.5; cursor: not-allowed; }
        .typing-indicator { display: none; padding: 8px 16px; color: #6b7280; font-size: 12px; font-style: italic; }
        .typing-dots { display: flex; gap: 4px; margin-bottom: 8px; }
        .typing-dot { width: 6px; height: 6px; background: #6b7280; border-radius: 50%; animation: typing 1.4s infinite ease-in-out; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing { 0%, 60%, 100% { transform: translateY(0); opacity: 0.4; } 30% { transform: translateY(-10px); opacity: 1; } }
        .bottom-right { bottom: 20px; right: 20px; } .bottom-left { bottom: 20px; left: 20px; } .top-right { top: 20px; right: 20px; } .top-left { top: 20px; left: 20px; }
        .chat-bottom-right { bottom: 90px; right: 20px; } .chat-bottom-left { bottom: 90px; left: 20px; } .chat-top-right { top: 90px, right: 20px; } .chat-top-left { top: 90px, left: 20px; }
    </style>
</head>
<body>
    <div id="chat-bubble" class="chat-bubble ${S.widget.bubble.position}">${S.widget.bubble.icon}</div>
    
    <div id="chat-window" class="chat-window chat-${S.widget.bubble.position}">
        <div class="chat-header">
            <div class="chat-header-content">
                ${S.widget.header.bannerImage&&S.widget.header.showBanner?`<img src="${S.widget.header.bannerImage}" alt="Banner">`:""}
                <div class="chat-header-text">
                    <div class="chat-header-title">${S.widget.header.title}</div>
                    ${S.widget.header.subtitle?`<div class="chat-header-subtitle">${S.widget.header.subtitle}</div>`:""}
                </div>
            </div>
            <button id="close-chat" class="close-button"></button>
        </div>
        <div id="chat-messages" class="chat-messages"></div>
        <div id="typing-indicator" class="typing-indicator"><div class="typing-dots"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>AI is typing...</div>
        <div class="chat-input-container">
            <input type="text" id="chat-input" class="chat-input" placeholder="Type your message...">
            <button id="send-button" class="send-button">Send</button>
        </div>
    </div>

    <script>
        // Check for embed mode
        const urlParams = new URLSearchParams(window.location.search);
        const isEmbedded = urlParams.get('embed') === 'true';
        if (isEmbedded) {
            document.body.classList.add('embedded');
        }

        // Bot Configuration (API keys removed for security - use Netlify env vars)
        window.BOT_CONFIG = ${JSON.stringify(S,(F,G)=>{if(!(F==="geminiApiKey"||F==="openRouterApiKey"||F==="memoryKeepApiKey"))return G})};
        
        // --- Lead Service (Netlify Blobs / localStorage fallback) ---
        class LeadService {
            static getApiUrl() {
                const baseUrl = window.BOT_CONFIG?.settings?.apiBaseUrl || window.location.origin;
                return baseUrl + '/api/leads';
            }
            
            static isNetlifyDeployment() {
                return window.location.hostname.includes('netlify.app') || 
                       window.location.hostname.includes('netlify.live') ||
                       window.location.port === '8888';
            }
            
            static async saveLead(botId, data, source = 'chat_widget') {
                if (this.isNetlifyDeployment()) {
                    try {
                        const response = await fetch(\`\${this.getApiUrl()}?botId=\${botId}\`, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ botId, data, source })
                        });
                        if (response.ok) {
                            const result = await response.json();
                            console.log(' Lead saved to Netlify Blobs:', result);
                            return result;
                        }
                    } catch (error) {
                        console.warn('Netlify save failed, using localStorage:', error);
                    }
                }
                // Fallback to localStorage
                const leads = this.getLocalLeads(botId);
                const newLead = {
                    id: \`lead-\${Date.now()}-\${Math.random().toString(36).substr(2, 9)}\`,
                    botId, data, timestamp: new Date().toISOString(), source
                };
                leads.push(newLead);
                localStorage.setItem(\`leads-\${botId}\`, JSON.stringify(leads));
                console.log(' Lead saved to localStorage:', newLead);
                return { success: true, leadId: newLead.id, totalLeads: leads.length };
            }
            
            static async getLeads(botId) {
                if (this.isNetlifyDeployment()) {
                    try {
                        const response = await fetch(\`\${this.getApiUrl()}?botId=\${botId}\`);
                        if (response.ok) {
                            const result = await response.json();
                            console.log(' Leads retrieved from Netlify:', result);
                            return result;
                        }
                    } catch (error) {
                        console.warn('Netlify fetch failed, using localStorage:', error);
                    }
                }
                const leads = this.getLocalLeads(botId);
                return { success: true, leads, count: leads.length };
            }
            
            static getLocalLeads(botId) {
                try {
                    const stored = localStorage.getItem(\`leads-\${botId}\`);
                    return stored ? JSON.parse(stored) : [];
                } catch { return []; }
            }
            
            static formatLeadsForChat(leads) {
                if (leads.length === 0) return ' **No leads collected yet.**\\n\\nLeads will appear here when visitors submit the lead capture form.';
                let output = \` **Collected Leads (\${leads.length} total)**\\n\\n\`;
                leads.slice(-10).reverse().forEach((lead, index) => {
                    const date = new Date(lead.timestamp).toLocaleString();
                    output += \`**Lead #\${leads.length - index}** - \${date}\\n\`;
                    Object.entries(lead.data).forEach(([key, value]) => { output += \` \${key}: \${value}\\n\`; });
                    output += '\\n';
                });
                if (leads.length > 10) output += \`\\n_Showing last 10 of \${leads.length} leads._\`;
                return output;
            }
            
            static downloadCSV(botId, leads) {
                if (leads.length === 0) return;
                const allFields = new Set();
                leads.forEach(lead => Object.keys(lead.data).forEach(key => allFields.add(key)));
                const fieldNames = ['timestamp', ...Array.from(allFields)];
                let csv = fieldNames.join(',') + '\\n';
                leads.forEach(lead => {
                    const row = fieldNames.map(field => {
                        if (field === 'timestamp') return lead.timestamp;
                        const value = lead.data[field] || '';
                        return \`"\${value.replace(/"/g, '""')}"\`;
                    });
                    csv += row.join(',') + '\\n';
                });
                const blob = new Blob([csv], { type: 'text/csv' });
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = \`leads-\${botId}-\${new Date().toISOString().split('T')[0]}.csv\`;
                document.body.appendChild(a); a.click(); document.body.removeChild(a);
            }
        }
        
        // --- MemoryKeep Cloud Client ---
        class MemoryKeepCloud {
            static API_BASE = 'https://memorykeep.cloud/api';
            
            static getBotApiKey(botId) {
                const botConfig = window.BOT_CONFIG;
                if (botConfig && botConfig.id === botId && botConfig.settings.memoryKeepApiKey) {
                    return botConfig.settings.memoryKeepApiKey;
                }
                return 'mira-1234'; // Fallback
            }
            
            static async logMemory(botId, type, entry) {
                try {
                    const key = this.getBotApiKey(botId);
                    const response = await fetch(\`\${this.API_BASE}/log-memory\`, {
                        method: 'POST',
                        headers: { 'Authorization': \`Bearer \${key}\`, 'Content-Type': 'application/json' },
                        body: JSON.stringify({ type, entry })
                    });
                    if (!response.ok) console.error('MemoryKeep log failed:', response.status, await response.text());
                    else console.log(\` Logged to MemoryKeep [\${type}]\`);
                } catch (error) { console.error('MemoryKeep log error:', error); }
            }

            static async getMemory(botId, type) {
                try {
                    const key = this.getBotApiKey(botId);
                    const response = await fetch(\`\${this.API_BASE}/get-memory?type=\${type}\`, {
                        method: 'GET',
                        headers: { 'Authorization': \`Bearer \${key}\` }
                    });
                    if (!response.ok) {
                        if (response.status !== 404) console.error('MemoryKeep get failed:', response.status, await response.text());
                        return null;
                    }
                    const data = await response.json();
                    console.log(\` Retrieved from MemoryKeep [\${type}]\`);
                    return data.memory;
                } catch (error) { console.error('MemoryKeep get error:', error); return null; }
            }

            static async getAllMemories(botId) {
                const memories = {};
                const types = ['core', 'experience', 'notebook'];
                for (const type of types) {
                    memories[type] = await this.getMemory(botId, type);
                }
                return memories;
            }
        }

        // --- Standalone Chat Bot Logic ---
        class StandaloneChatBot {
            constructor(config) {
                this.config = config;
                this.isOpen = false;
                this.messages = [];
                this.conversationMemory = [];
                this.isTyping = false;
                this.activeLeadModule = null;
                
                // If embedded, start open
                this.isOpen = isEmbedded;
                
                this.init();
            }
            
            init() {
                this.bindEvents();
                // Show greeting if open (embedded) or configured to show on open
                if (this.isOpen && this.config.widget.greeting.showOnOpen) {
                    this.addBotMessage(this.config.widget.greeting.message);
                }
            }
            
            bindEvents() {
                document.getElementById('chat-bubble').addEventListener('click', () => this.toggleChat());
                
                // Only bind close button if NOT embedded
                if (!isEmbedded) {
                    document.getElementById('close-chat').addEventListener('click', () => this.closeChat());
                }
                
                document.getElementById('send-button').addEventListener('click', () => this.sendMessage());
                document.getElementById('chat-input').addEventListener('keypress', (e) => { if (e.key === 'Enter') this.sendMessage(); });
            }
            
            toggleChat() {
                this.isOpen = !this.isOpen;
                this.updateDisplay();
                if (this.isOpen && this.messages.length === 0 && this.config.widget.greeting.showOnOpen) {
                    this.addBotMessage(this.config.widget.greeting.message);
                }
            }
            
            closeChat() {
                this.isOpen = false;
                this.updateDisplay();
            }
            
            updateDisplay() {
                const chatWindow = document.getElementById('chat-window');
                if (isEmbedded) {
                     chatWindow.style.display = 'flex'; // Always visible in embed mode
                } else {
                     chatWindow.style.display = this.isOpen ? 'flex' : 'none';
                }
            }
            
            async sendMessage() {
                if (this.isTyping) return;
                const input = document.getElementById('chat-input');
                const message = input.value.trim();
                if (!message) return;
                
                this.addUserMessage(message);
                input.value = '';
                this.showTypingIndicator();
                
                try {
                    const response = await this.processMessage(message);
                    this.hideTypingIndicator();
                    this.addBotMessage(response);
                } catch (error) {
                    console.error('Error processing message:', error);
                    this.hideTypingIndicator();
                    this.addBotMessage("I'm sorry, I'm having trouble responding right now.");
                }
            }
            
            async processMessage(message) {
                // Check for admin commands
                const lowerMsg = message.toLowerCase().trim();
                
                if (lowerMsg === '/help') {
                    return ' **Admin Commands**\\n\\n' +
                        '**/leads** - View all collected leads\\n' +
                        '**/exportleads** - Download leads as CSV file\\n' +
                        '**/help** - Show this help message\\n\\n' +
                        '_These commands are for bot owners to manage lead data._';
                }
                
                if (lowerMsg === '/leads') {
                    try {
                        const result = await LeadService.getLeads(this.config.id);
                        if (result.success && result.leads) {
                            return LeadService.formatLeadsForChat(result.leads);
                        }
                        return ' Could not retrieve leads.';
                    } catch (error) {
                        return ' Error retrieving leads: ' + error.message;
                    }
                }
                
                if (lowerMsg === '/exportleads') {
                    try {
                        const result = await LeadService.getLeads(this.config.id);
                        if (result.success && result.leads && result.leads.length > 0) {
                            LeadService.downloadCSV(this.config.id, result.leads);
                            return \` **Downloading \${result.leads.length} leads as CSV...**\\n\\nThe file should start downloading automatically.\`;
                        }
                        return ' No leads to export yet.';
                    } catch (error) {
                        return ' Error exporting leads: ' + error.message;
                    }
                }
                
                const faqModule = this.config.modules.find(m => m.type === 'faq' && m.enabled);
                if (faqModule?.config?.questions) {
                    const lowerMessage = message.toLowerCase();
                    const match = faqModule.config.questions.find(q => lowerMessage.includes(q.question.toLowerCase()));
                    if (match) return match.answer;
                }
                
                // Check for lead capture trigger keywords
                const leadModule = this.config.modules.find(m => m.type === 'lead-capture' && m.enabled);
                if (leadModule) {
                    const lowerMessage = message.toLowerCase();
                    const triggerKeywords = leadModule.config.triggerKeywords || ['contact', 'interested', 'demo', 'quote', 'pricing'];
                    const triggered = triggerKeywords.some(keyword => lowerMessage.includes(keyword.toLowerCase()));
                    
                    if (triggered) {
                        this.showLeadForm(leadModule);
                        return leadModule.config.triggerMessage || 'Please fill out the form below to get in touch with us!';
                    }
                }
                
                // Call AI via Netlify proxy (keys stored server-side)
                return await this.callChatProxy(message);
            }
            
            async callChatProxy(message) {
                const provider = this.config.settings.aiProvider || 'gemini';
                const apiBaseUrl = this.config.settings.apiBaseUrl || window.location.origin;
                
                try {
                    const response = await fetch(apiBaseUrl + '/api/chat', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            message,
                            provider,
                            model: this.config.settings.model,
                            systemPrompt: this.config.settings.systemPrompt,
                            conversationMemory: this.conversationMemory,
                            temperature: this.config.settings.temperature,
                            maxTokens: this.config.settings.maxTokens,
                            botId: this.config.id
                        })
                    });
                    
                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(errorData.error || 'Chat proxy error');
                    }
                    
                    const data = await response.json();
                    
                    if (data.success && data.response) {
                        // Update conversation memory
                        this.conversationMemory.push(
                            { role: 'user', content: message },
                            { role: 'assistant', content: data.response }
                        );
                        if (this.conversationMemory.length > 20) {
                            this.conversationMemory = this.conversationMemory.slice(-20);
                        }
                        return data.response;
                    } else {
                        throw new Error(data.error || 'No response from AI');
                    }
                } catch (error) {
                    console.error('Chat proxy error:', error);
                    return "I'm having trouble connecting. Please make sure the bot is deployed to Netlify with API keys configured as environment variables.";
                }
            }
            
            showLeadForm(leadModule) {
                this.activeLeadModule = leadModule;
            }
            
            getLeadFormHtml() {
                if (!this.activeLeadModule) return '';
                const leadModule = this.activeLeadModule;
                const fields = leadModule.config.fields || [];
                const botId = this.config.id;
                
                return \`
                    <div class="lead-form" style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px; margin: 8px 0;">
                        <form id="lead-form" style="display: flex; flex-direction: column; gap: 12px;">
                            \${fields.map(field => \`
                                <div>
                                    <label style="display: block; font-size: 12px; color: #374151; margin-bottom: 4px;">
                                        \${field.label}\${field.required ? ' *' : ''}
                                    </label>
                                    <input 
                                        type="\${field.type}" 
                                        name="\${field.name}" 
                                        \${field.required ? 'required' : ''}
                                        style="width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;"
                                        placeholder="Enter your \${field.label.toLowerCase()}"
                                    />
                                </div>
                            \`).join('')}
                            <button type="submit" style="background: var(--primary-color); color: white; border: none; padding: 10px 16px; border-radius: 6px; cursor: pointer; font-size: 14px;">
                                Submit
                            </button>
                        </form>
                        <button id="close-lead-form" type="button" style="background: none; border: none; color: #6b7280; font-size: 12px; cursor: pointer; margin-top: 8px;">
                            Close form
                        </button>
                    </div>
                \`;
            }
            
            bindLeadFormEvents() {
                const form = document.getElementById('lead-form');
                const closeBtn = document.getElementById('close-lead-form');
                if (!form || !this.activeLeadModule) return;
                
                const leadModule = this.activeLeadModule;
                const fields = leadModule.config.fields || [];
                const self = this;
                
                if (closeBtn) {
                    closeBtn.onclick = () => {
                        self.activeLeadModule = null;
                        self.renderMessages();
                    };
                }
                
                form.onsubmit = async (e) => {
                    e.preventDefault();
                    const formData = {};
                    fields.forEach(field => {
                        formData[field.name] = document.querySelector(\`input[name="\${field.name}"]\`).value;
                    });
                    
                    try {
                        await LeadService.saveLead(self.config.id, formData, 'chat_widget');
                        self.activeLeadModule = null;
                        self.addBotMessage(leadModule.config.successMessage || ' Thank you! We will get back to you soon.');
                    } catch (error) {
                        console.error('Failed to save lead:', error);
                        alert('Failed to submit. Please try again.');
                    }
                };
            }
            
            addUserMessage(message) { this.messages.push({ text: message, sender: 'user' }); this.renderMessages(); }
            addBotMessage(message) { this.messages.push({ text: message, sender: 'bot' }); this.renderMessages(); }
            
            renderMessages() {
                const container = document.getElementById('chat-messages');
                let html = this.messages.map(msg => \`<div class="message \${msg.sender}-message"><div class="message-content">\${this.formatMessage(msg.text)}</div></div>\`).join('');
                
                // Add lead form if active
                if (this.activeLeadModule) {
                    html += this.getLeadFormHtml();
                }
                
                container.innerHTML = html;
                container.scrollTop = container.scrollHeight;
                
                // Bind events after rendering
                if (this.activeLeadModule) {
                    this.bindLeadFormEvents();
                }
            }
            
            formatMessage(text) { return text.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>').replace(/\\*(.*?)\\*/g, '<em>$1</em>').replace(/\\n/g, '<br>'); }
            showTypingIndicator() { this.isTyping = true; document.getElementById('typing-indicator').style.display = 'block'; document.getElementById('send-button').disabled = true; document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight; }
            hideTypingIndicator() { this.isTyping = false; document.getElementById('typing-indicator').style.display = 'none'; document.getElementById('send-button').disabled = false; }
        }
        
        new StandaloneChatBot(window.BOT_CONFIG);
    <\/script>
</body>
</html>`),I=S=>{const F=S.target.files?.[0];if(!F)return;const G=new FileReader;G.onload=async ue=>{try{const ge=JSON.parse(ue.target?.result),ve={...ge.bot,id:Date.now().toString()};if(await Ie.saveBot(ve),ge.memories)for(const[re,Ne]of Object.entries(ge.memories))await Ie.saveMemory(ve.id,re,Ne);c(ve),b()}catch(ge){console.error("Failed to import bot:",ge),alert("Failed to import bot. Please check the file format.")}},G.readAsText(F)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:s.jsxs("div",{className:"flex flex-col h-screen",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(Ws,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"MemoryKeep Bot Factory"})]}),a&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Editing: ",s.jsx("span",{className:"font-semibold",children:a.name})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>B(!N),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Memory Viewer"}),s.jsxs("button",{onClick:_,disabled:!a,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",children:[s.jsx(Yf,{className:"w-4 h-4"}),s.jsx("span",{children:"Export JSON"})]}),s.jsxs("button",{onClick:C,disabled:!a,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50",children:[s.jsx(Zf,{className:"w-4 h-4"}),s.jsx("span",{children:"Export HTML"})]}),s.jsxs("label",{className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",children:[s.jsx(zn,{className:"w-4 h-4"}),s.jsx("span",{children:"Import"}),s.jsx("input",{type:"file",accept:".json",onChange:I,className:"hidden"})]}),s.jsxs("button",{onClick:()=>j(!p),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx(hc,{className:"w-4 h-4"}),s.jsx("span",{children:p?"Edit":"Preview"})]})]})]})})}),s.jsx("div",{className:"flex-1 flex overflow-hidden",children:p?s.jsx("div",{className:"flex-1 relative bg-gray-100 overflow-hidden",children:a?s.jsxs("div",{className:"w-full h-full relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(hc,{className:"w-8 h-8 text-indigo-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Chat Widget Preview"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Click the chat bubble to test your bot"}),(()=>{const S=a.settings.aiProvider||"openrouter",F=!!a.settings.geminiApiKey,G=!!a.settings.openRouterApiKey;return S==="gemini"&&F?s.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:" Gemini API Connected"}):S==="openrouter"&&G?s.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:" OpenRouter API Connected"}):s.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-yellow-100 text-yellow-800",children:[" Configure ",S==="gemini"?"Gemini":"OpenRouter"," API in AI Settings"]})})()]})}),s.jsx(Nc,{bot:a,preview:!0})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-500",children:"Select a bot to preview"})})})}):s.jsx(bm,{activeBot:a,bots:u,onBotUpdate:P,onBotSelect:c,showMemoryViewer:N})})]})})}Ef.createRoot(document.getElementById("root")).render(s.jsx(Q.StrictMode,{children:s.jsx(Im,{})}));
